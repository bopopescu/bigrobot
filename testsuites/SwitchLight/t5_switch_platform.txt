* Settings
Documentation     T5  Switch Platform Test suite- Iron Horse
Suite Setup       base suite setup
Suite Teardown    base suite teardown
Test Teardown     T5 switch platform test teardown
Force Tags        T5  IronHorse
...             
...            
...                        
Library         keywords/BsnCommon.py
Library         keywords/SwitchLight.py
Library         keywords/AppController.py
Library         keywords/Ixia.py 
Library         keywords/T5.py   
Library         keywords_dev/kranti/ironhorse/T5SwitchPlatform.py  
Library         String
#Resource        keywords_dev/kranti/ironhorse/snake_traffic_test_variables.txt


*Variables
${switchlight_version}  SwitchLight
${netmask}  18
${gateway}  10.192.64.1
${gateway1}  10.192.60.1
${dns_server}  10.192.3.1
${dns_domain}  bigswitch.com
${j}    1
${switch1_name}=  leaf0-a
${switch2_name}=  leaf0-b
${switch7_name}=  spine0
${tenant}=        testTenant 
${vns}=           v1
${vlan}=          -1
${intf_1}=        ethernet1
${intf_2}=        ethernet2
${intf_3}=        ethernet3
${intf_4}=        ethernet4
${interface1g}=   ethernet12
${leafmodel}=     AS5710
${spinemodel}=    AS6700
${intf_6}=        ethernet45
${intf_7}=        ethernet46
${intf_8}=        ethernet47
${intf_9}=        ethernet48

${count}=         1 
${ratetolerance}=     10
${tolerance}=         5
${sleepAfter}=    10
${sleepBefore}=   5
${software_version_string}=  Software Image Version: SwitchLight
${default_password}=  adminadmin
${default_user}=  admin

### Section A: ONIE, OFAUX Channel  

*Test Case

Config the switch and controller as setup 
    Log    Step 1 - Configure the base set up according to topology
    T5 switch platform test setup
    [Tags]  T5  switch  setup  feature    

Verify ONIE Installed on Switch
	Log     Step 1 - verify ONIE installed in switch
	verify onie installated on switch  s1
	verify onie installated on switch  s2
	verify onie installated on switch  s7
	[Tags]  T5  switch  install  onie  feature 
            
Verify the openflow aux channel count on Switch
	Log    Step 1 - Get the OF aux channel number
	verify openflow aux channel  s1  c1  
	verify openflow aux channel  s2  c1  
	verify openflow aux channel  s7  c1  
    [Tags]  T5  switch  ofaux  feature        
    
Verify console connectivity
    Log    Step 1 - Verify access the console through telnet
    [Tags]  T5  switch  install  feature
    [Tags]  Manual
    Manual passed

Verify UBoot version DRAM etc
    Log    Step 1 - Verify the Uboot version
    Log    Step 2 - Verify the DRAM
    [Tags]  T5  switch  install  feature 
    [Tags]  Manual-untested
    Manual untested
   
Verify environmental variables for CPU, RAM, PCI, Ethernet, EEPROM at loader 
    Log    Step 1 - Verify the environmrntal variables 
    [Tags]  T5  switch  install  feature 
    [Tags]  Manual-untested
    Manual untested
    
### SECTION B: Initial Configuration 

Verify one openflow controller can be configured on Leaf
    delete existing controllers  s1  c1
    delete existing controllers  s1  c2
    add openflow controller  s1  c1
    verify openflow controller  s1  c1
    [Tags]  t5  platform  InitialConfig  feature  

Verify controller can be modified on Leaf
    delete existing controllers  s1  c1
    delete existing controllers  s1  c2
    add openflow controller  s1  c1
    verify openflow controller  s1  c1
    delete existing controllers  s1  c1
    add openflow controller  s1  c2
    verify openflow controller  s1  c2
    [Tags]  t5  platform  InitialConfig  feature  

Verify multiple openflow controllers can be configured on Leaf
    delete existing controllers  s1  c1
    delete existing controllers  s1  c2
    add openflow controller  s1  c1
    verify openflow controller  s1  c1
    add openflow controller  s1  c2
    verify openflow controller  s1  c2    
    [Tags]  t5  platform  InitialConfig  feature  

Verify Controller IP address is pingable
    ping remote  c1
    [Tags]  t5  platform  InitialConfig  feature  

Configure DNS server and DNS Domain. Verify ping www.bigswitch.com
    configure dns domain  s1  ${dns_server}  ${dns_domain}
    Sleep  30
    cli ping from switch  s1  bigswitch.com
    [Tags]  t5  platform  InitialConfig  dns  feature      

Verify DNS server and DNS domain can be deleted and added
    [Tags]  t5  platform  InitialConfig  dns  feature 
    configure dns domain  s1  ${dns_server}  ${dns_domain}
    Sleep  30
    cli ping from switch  s1  bigswitch.com
    deconfigure dns domain  s1  ${dns_server}  ${dns_domain}
    Sleep  30 
    cli execute command  s1  show running-config
    verify ping fail from switch  s1  bigswitch.com
    configure dns domain  s1  ${dns_server}  ${dns_domain}
    Sleep  30
    cli ping from switch  s1  bigswitch.com

Verify ntp configuration on spine
    configure ntp server  s7  time-c.nist.gov
    Sleep  5
    verify ntp server  s7  time-c.nist.gov
    delete ntp  s1  time-c.nist.gov
    [Tags]  t5  platform  ntp  feature     

Verify ntp server on spine after process ntp restart
    configure ntp server  s1  time-c.nist.gov
    Sleep  5
    verify ntp server  s1  time-c.nist.gov
    bash restart process  s1  ntpd
    Sleep  5
    verify ntp server  s1  time-c.nist.gov    
    [Tags]  t5  platform  ntp  feature

Verify ntp configuration on leaf
    configure ntp server  s2  time-c.nist.gov
    Sleep  5
    verify ntp server  s2  time-c.nist.gov
    delete ntp  s2  time-c.nist.gov
    [Tags]  t5  platform  ntp  feature     

Verify ntp server on leaf after process ntp restart
    configure ntp server  s2  time-c.nist.gov
    Sleep  5
    verify ntp server  s2  time-c.nist.gov
    bash restart process  s2  ntpd
    Sleep  5
    verify ntp server  s2  time-c.nist.gov    
    [Tags]  t5  platform  ntp  feature

Verify the default gateway configuration can be deleted and added
    delete static ip  s1  ${netmask}  ${gateway}
    add static ip  s1  ${netmask}  ${gateway1}
    delete static ip  s1  ${netmask}  ${gateway1}
    add static ip  s1  ${netmask}  ${gateway}
    ping from switch  s1  ${gateway}  
    [Tags]  t5  platform  InitialConfig  feature  
           

Verify the Switch configuration after ZTN 
    Log    Step 1 - Verify the Switch Configuration after ZTN
    [Tags]  T5  switch  ZTN  feature
    [Tags]  Manual-untested
    Manual untested 
    
Verify Switch connectivity after ZTN 
    Log    Step 1 - Verify Switch is pingable
    [Tags]  T5  switch  ZTN  feature  
    [Tags]  Manual-untested
    Manual untested 
    
Verify Switch Configuration - Allowed or Not Allowed Configuration 
    Log    Step 1 - Verify What Switch Configuration are allowwed or Not Allowed
    [Tags]  T5  switch  ZTN  feature  
    [Tags]  Manual-untested
    Manual untested 
    
Verify Switch DHCP address - Is it Configurable in ZTN
    [Tags]  T5  switch  ZTN  feature  
    [Tags]  Manual-untested
    Manual untested 

Verify multiple SSH connections to Management Port 
    Log    Step 1 - Verify multiple SSH connections to Management Port
    [Tags]  T5  switch  InitialConfig  feature
    [Tags]  Manual
    Manual Passed
    
Verify multiple telnet connections to Management Port 
    Log    Step 1 - Verify multiple telnet connections to Management Port
    [Tags]  T5  switch  InitialConfig  feature
    [Tags]  Manual
    Manual Passed
  
Verify after failure of Master Controller switch connection with backup is re established
    Log    Step 1 - Both Controller connection is present 
    Log    Step 2 - Master Controller fails and connection is removed 
    Log    Step 3 - Connection to Back up controller is established
    [Tags]  T5  switch  HA    feature 
    [Tags]  Manual
    Manual Passed
    
Verify after Master Controller comes back Connection reestablished 
    Log    Step 1 - Verify connection re-establishes after Master Controller connection comes back 
    Log    Step 2 - Verify the correct information for Master/Backup Controller
    [Tags]  T5  switch  HA  feature 
    [Tags]  Manual
    Manual Passed


    
### Section C : Admin/User Authentication     
### Section D: System Admin Operation

Verify all interfaces show up (in show o/p from CLI)
    verify interfaces  s1
    [Tags]  t5  platform  Interface  feature    
    
Shutdown an interface on switch and verify interface state is down
    shut interface  s1  ethernet1
    Sleep  5
    verify interface state  s1  ethernet1  down
    unshut interface  s1  ethernet1
    Sleep  15
    verify interface state  s1  ethernet1  up
    [Tags]  t5  platform  Interface  feature       

Verify model in Show version for leaf 
    Log    Step 1 - Verify right model in Show version for leaf as AS5710
    verify model in show version  s1  ${leafmodel} 
    [Tags]  t5  switch  platform  feature 
   
Verify model in Show version for spine
    Log    Step 1 - Verify right model in Show version for spine as AS6700
    verify model in show version  s7  ${spinemodel} 
    [Tags]  t5  switch  platform  feature  

Verify switch interface 1g configuration on switch 
    Log    Step 1 - Verify the 1G interface configuration on switch 
    configure 1g interface on switch  s1  ${interface1g}
    verify 1g interface on switch  s1  ${interface1g}  1G    
    [Tags]  t5  switch  platform  feature       

verify the ofaux channel on controller  
    verify ofaux channel on controller  c1  ${switch1_name}
    [Tags]  T5  switch  Platform  ofaux  feature

Verify the user password can have alphanumeric character 
    [Tags]  T5  switch  Platform usermanagement  feature    
    verify user password update  s1  ${default_user}  ${default_password}  admin1234
    reset username password  s1  ${default_user}  ${new_password}

Verify the user password can have special characters !@#
    [Tags]  T5  switch  Platform usermanagement  feature  
    verify user password update  s1  ${default_user}  ${default_password}  admin!@#
    reset username password  s1  ${default_user}  ${new_password}  

Verify the user password can have special characters $%^ 
    [Tags]  T5  switch  Platform usermanagement  feature  
    verify user password update  s1  ${default_user}  ${default_password}  admin$%^
    reset username password  s1  ${default_user}  ${new_password}    

Verify the user password can have special characters &*(
    [Tags]  T5  switch  Platform usermanagement  feature  
    verify user password update  s1  ${default_user}  ${default_password}  admin&*(
    reset username password  s1  ${default_user}  ${new_password}    

Verify the user password can have small and big cap letters alphanuric and special aDmin12@#
    [Tags]  T5  switch  Platform usermanagement  feature  
    verify user password update  s1  ${default_user}  ${default_password}  aDmin12@#
    reset username password  s1  ${default_user}  ${new_password}

   
Verify Show environment
    Log    Step 1 - Verify Show env
    [Tags]  Manual  CLI  Admin  feature  jira-pan-667    
     Manual Failed

Verify Show running-config
    Log    Step 1 - Verify Show running-config
    [Tags]  Manual  CLI  Admin  feature  
     Manual Passed
       

    
###
### Section I : Traffic Test Verification
###
###         

Verify that the various transceivers are detected in the uplink module and they are up and running 
    Log    Step 1 - Verify that the various transceivers are detected in the uplink module and they are up and running
    [Tags]  Manual-untested  interface  optics  feature
    Manual untested

Verify interface op is consistent and as per spec in show interfaces op 
    Log    Step 1 - Verify interface op is consistent and as per spec in show interfaces op
    [Tags]  Manual  interface  feature
    Manual Passed

Verify auto-negotiation configurations work as expected 
    Log    Step 1 - Verify auto-negotiation configurations work as expected
    [Tags]  Manual-untested  interface  feature
    Manual untested

Verify Auto- negotiation enabled on both ends of interface
    Log    Step 1 - Verify Auto- negotiation enabled on both ends of interface
    [Tags]  Manual-untested  interface  feature
    Manual untested

Verify Speed/Duplex in ports 
    Log    Step 1 - Verify Speed/Duplex in ports
    [Tags]  Manual-untested  interface  feature
    Manual untested

Verify interface state is reported correctly when cable is unplugged. 
    Log    Step 1 - Verify interface state is reported correctly when cable is unplugged. 
    [Tags]  Manual  interface  feature
    Manual Passed

Verify that the options are maintained on the interface after the system reboot. 
    Log    Step 1 - Verify that the options are maintained on the interface after the system reboot.
    [Tags]  Manual-untested  interface  feature
    Manual untested

Verify the logging of openflow events in the Switch 
    Log    Step 1 - Verify the openflow events are being Logged in switch syslog 
    [Tags]  Manual-untested  Logging  feature
    Manual untested

Verify the logging of interface events up down disable in the Switch 
    Log    Step 1 - Verify the interface events are being Logged in switch syslog 
    [Tags]  Manual-untested  Logging  feature
    Manual untested

Verify the logging of process events restart in the Switch 
    Log    Step 1 - Verify the process events are being Logged in switch syslog 
    [Tags]  Manual-untested  Logging  feature
    Manual untested

Verify the logging of PSU insertion removal error events in the Switch 
    Log    Step 1 - Verify the PSU insertion removal error events are being Logged in switch syslog 
    [Tags]  Manual-untested  Logging  feature
    Manual untested

Verify the logging of Error events management failure in the Switch 
    Log    Step 1 - Verify the Error events management failure are being Logged in switch syslog 
    [Tags]  Manual-untested  Logging  feature
    Manual untested

Verify the logging of optics cable type in the Switch 
    Log    Step 1 - Verify the optics cable type are being Logged in switch syslog 
    [Tags]  Manual-untested  Logging  feature
    Manual untested

Verify the logging of fan failure heat sensors high temp in the Switch 
    Log    Step 1 - Verify the fan failure heat sensors high temp are being Logged in switch syslog 
    [Tags]  Manual-untested  Logging  feature
    Manual untested

Verify the debugging of environmental fan failure heat sensors high temp in the Switch 
    Log    Step 1 - Verify the environmental fan failure heat sensors high temp are being shown in switch 
    [Tags]  Manual-untested  Debug  feature
    Manual untested

Verify the debugging of openFlow connection estabish disconnection in the Switch 
    Log    Step 1 - Verify the openFlow connection estabish disconnection are being Logged and show in switch 
    [Tags]  Manual-untested  Debug  feature
    Manual untested

Verify the debugging of interface stats counters status in the Switch 
    Log    Step 1 - Verify the interface stats counters status can be shown in switch
    [Tags]  Manual-untested  Debug  feature
    Manual untested

Verify the debugging of port group lag in the Switch 
    Log    Step 1 - Verify the port group lag can be shown in switch
    [Tags]  Manual-untested  Debug  feature
    Manual untested

Verify the debugging of vlan in the Switch 
    Log    Step 1 - Verify the vlan can be shown in switch
    [Tags]  Manual-untested  Debug  feature
    Manual untested

Verify the debugging of vns in the Switch 
    Log    Step 1 - Verify the vns can be shown in switch
    [Tags]  Manual-untested  Debug  feature
    Manual untested
    
Verify the debugging of forwarding programming in the Switch 
    Log    Step 1 - Verify the forwarding programming can be shown in switch
    [Tags]  Manual-untested  Debug  feature
    Manual untested



* Keywords

T5 switch platform test setup
   base suite setup
   rest add switch  ${switch1_name}
   ${swDpid1}=  rest return switch dpid from ip  s1
   rest add dpid  ${switch1_name}   ${swDpid1}
   rest add fabric role  ${switch1_name}  leaf
   sleep  2   
   rest add switch  ${switch2_name}
   ${swDpid2}=  rest return switch dpid from ip  s2
   rest add dpid  ${switch2_name}   ${swDpid2}
   rest add fabric role  ${switch2_name}  leaf
   sleep  2
   rest add switch  ${switch7_name}
   ${swDpid7}=  rest return switch dpid from ip  s7
   rest add dpid  ${switch7_name}   ${swDpid7}
   rest add fabric role  ${switch7_name}  spine
   sleep  10
                
T5 switch platform test teardown
   rest delete tenant  ${tenant}  
   rest delete fabric switch  ${switch1_name} 
   rest delete fabric switch  ${switch2_name}
   rest delete fabric switch  ${switch7_name}
   base suite teardown
   sleep  5   

verify openflow aux channel  [Arguments]  ${switch}  ${cntrlr} 
	${ofAux}=   cli return ofaux channel count  ${switch}  ${cntrlr} 
	Should contain  ${ofAux}  3    

verify ofaux channel on controller  [Arguments]  ${controller}  ${switch_alias}
    ${retval1}=  cli return ofaux connection from alias  ${controller}  ${switch_alias}
	Should be True  ${retval1}  
	         
verify onie installated on switch  [Arguments]  ${switch}    
#    ${result1}=  bash execute command  ${switch}  cat /proc/mtd
	${result1}=  bash  s1  cat /proc/mtd  
    Should contain  ${result1['content']}  onie 
    

add interface to vns snake config   [Arguments]  ${tenant}  ${count}
    ${range}=  Evaluate  ${count} + 1
    : FOR  ${i}  IN RANGE  1  ${range}
    \  Log  ${i} 
    \  Log  ${j}
    \  ${vns_name}=  Evaluate  str('v') + str(${i})
    \  ${intf_name_1}=  Evaluate  str('ethernet') + str(${j})
    \  ${k}=  Evaluate  ${j} + 1
    \  ${intf_name_2}=  Evaluate  str('ethernet') + str(${k})          
    \  rest add interface to vns  ${tenant}  ${vns_name}  ${switch_alias}  ${intf_name_1}  -1
    \  rest add interface to vns  ${tenant}  ${vns_name}  ${switch_alias}  ${intf_name_2}  -1
    \  ${j}=  Evaluate  ${j} + 2
        
delete interface from vns snake config   [Arguments]  ${tenant}  ${count}
    ${range}=  Evaluate  ${count} + 1
    : FOR  ${i}  IN RANGE  1  ${range}
    \  Log  ${i} 
    \  Log  ${j}
    \  ${vns_name}=  Evaluate  str('v') + str(${i})
    \  ${intf_name_1}=  Evaluate  str('ethernet') + str(${j})
    \  ${k}=  Evaluate  ${j} + 1
    \  ${intf_name_2}=  Evaluate  str('ethernet') + str(${k})          
    \  rest delete interface from vns  ${tenant}  ${vns_name}  ${switch_alias}  ${intf_name_1}  -1
    \  rest delete interface from vns  ${tenant}  ${vns_name}  ${switch_alias}  ${intf_name_2}  -1
    \  ${j}=  Evaluate  ${j} + 2
    
delete existing controllers  [Arguments]  ${switch}  ${controller}
    ${ret_value_1}=  cli delete controller  ${switch}  ${controller}
    Should Be True  ${ret_value_1}

add openflow controller  [Arguments]  ${switch}  ${controller}
    ${ret_value_1}=  cli add controller  ${switch}  ${controller}
    Should Be True  ${ret_value_1}    

verify openflow controller  [Arguments]  ${switch}  ${controller}
    ${ret_value_1}=  cli verify controller  ${switch}  ${controller}
    Should Be True  ${ret_value_1}
 
ping remote  [Arguments]  ${remote}
    ${ret_value_1}=  ping from local  ${remote}
    Should Be True  ${ret_value_1}

ping from switch  [Arguments]  ${switch}  ${remote} 
    ${ret_value_1}=  cli ping from switch  ${switch}  ${remote}
    Should Be True  ${ret_value_1}  

configure dns domain  [Arguments]  ${switch}  ${dns_server}  ${dns_domain}  
    ${ret_value_1}=  cli add dns server domain  ${switch}  ${dns_server}  ${dns_domain}
    Should Be True  ${ret_value_1}

verify ping fail from switch  [Arguments]  ${switch}  ${remote} 
    ${ret_value_1}=  cli ping from switch  ${switch}  ${remote}
    Should Not Be True  ${ret_value_1}     

deconfigure dns domain  [Arguments]  ${switch}  ${dns_server}  ${dns_domain}
    ${ret_value_1}=  cli delete dns server domain  ${switch}  ${dns_server}  ${dns_domain}
    Should Be True  ${ret_value_1}  

verify interfaces  [Arguments]  ${switch}
    cli show all interfaces  ${switch}

shut interface  [Arguments]  ${switch}  ${interface}
    ${ret_value_1}=  cli disable interface  ${switch}  ${interface}
    Should Be True  ${ret_value_1}    

verify interface state  [Arguments]  ${switch}  ${interface}  ${state}
    ${ret_value_1}=  cli show interface state  ${switch}  ${interface}
    Should Contain  ${ret_value_1}  ${state}  

unshut interface  [Arguments]  ${switch}  ${interface}
    ${ret_value_1}=  cli enable interface  ${switch}  ${interface}
    Should Be True  ${ret_value_1}

delete static ip  [Arguments]  ${switch}  ${netmask}  ${gateway}
    ${ret_value_1}=  cli delete static ip  ${switch}  ${netmask}  ${gateway}
    Should Be True  ${ret_value_1}

add static ip  [Arguments]  ${switch}  ${netmask}  ${gateway}
    ${ret_value_1}=  cli add static ip  ${switch}  ${netmask}  ${gateway}
    Should Be True  ${ret_value_1}

delete dns  [Arguments]  ${switch}  ${dns_server}  ${dns_domain}
    ${ret_value_1}=  cli delete dns server domain  ${switch}  ${dns_server}  ${dns_domain}
    Should Be True  ${ret_value_1}
    
add dns  [Arguments]  ${switch}  ${dns_server}  ${dns_domain}
    ${ret_value_1}=  cli add dns server domain  ${switch}  ${dns_server}  ${dns_domain}
    Should Be True  ${ret_value_1}

verify ip dns  [Arguments]  ${switch}  ${netmask}  ${gateway}  ${dns_server}  ${dns_domain}  
    ${ret_value_1}=  cli verify ip dns  ${switch}  ${netmask}  ${gateway}  ${dns_server}  ${dns_domain}
    Should Be True  ${ret_value_1}

enable crc forwarding  [Arguments]  ${switch}
    ${ret_value_1}=  cli enable crc forwarding  ${switch}
    Should Be True  ${ret_value_1}

verify crc is enabled  [Arguments]  ${switch}
    ${ret_value_1}=  cli verify crc forwarding is enabled  ${switch}
    Should Be True  ${ret_value_1}
    
verify crc is disabled  [Arguments]  ${switch}
    ${ret_value_1}=  cli verify crc forwarding is disabled  ${switch}
    Should Be True  ${ret_value_1}

disable crc forwarding  [Arguments]  ${switch}
    ${ret_value_1}=  cli disable crc forwarding  ${switch}
    Should Be True  ${ret_value_1}

configure ntp server  [Arguments]  ${switch}  ${ntp_server}
    ${ret_value_1}=  add ntp server  ${switch}  ${ntp_server}  
    Should Be True  ${ret_value_1}
 
verify ntp server  [Arguments]  ${switch}  ${ntp_server}
     ${ret_value_1}=  verify ntp  ${switch}  ${ntp_server}  
    Should Be True  ${ret_value_1}

delete ntp  [Arguments]  ${switch}  ${ntp_server}
    ${ret_value_1}=  delete ntp server  ${switch}  ${ntp_server}  
    Should Be True  ${ret_value_1}
    
verify model in show version  [Arguments]  ${switch}  ${model}
    ${ret_value_1}=  cli t5 switch show version model  ${switch}  ${model} 
    Should Be True  ${ret_value_1}
    
configure 1g interface on switch  [Arguments]  ${switch}  ${interface}
    ${ret_value_1}=  cli t5 switch config interface 1g  ${switch}  ${interface}
    Should Be True  ${ret_value_1}

verify 1g interface on switch  [Arguments]  ${switch}  ${interface}  ${speed}
    ${ret_value_1}=  cli t5 switch verify interface speed  ${switch}  ${interface}  ${speed}
    Should Be True  ${ret_value_1}

deconfigure 1g interface on switch  [Arguments]  ${switch}  ${interface}
    ${ret_value_1}=  cli t5 switch deconfig interface 1g  ${switch}  ${interface}
    Should Be True  ${ret_value_1}
   
change user password  [Arguments]  ${switch}  ${user}  ${currentpass}  ${updatepass}
    ${ret_value_1}=  cli change user password  ${switch}  ${user}  ${currentpass}  ${updatepass}
    Should Be True  ${ret_value_1}

verify user password update  [Arguments]  ${switch}  ${user}  ${currentpass}  ${updatepass}
    change user password  ${switch}  ${user}  ${currentpass}  ${updatepass}
    ${ret_vlaue1}=  cli verify password change  ${switch}  ${user}  ${updatepass}  ${software_version_string}              
    Sleep  10
    Set Global Variable  ${newpassword}  ${updatepass}
    Should be True  ${ret_vlaue1}

reset username password  [Arguments]  ${switch}  ${user}  ${newpassword}  
    change user password  ${switch}  ${user}  ${newpassword}  ${default_password} 
    ${ret_vlaue1}=  cli verify password change  ${switch}  ${user}  ${default_password}  ${software_version_string}
    Should Be True  ${ret_vlaue1}  
                
    