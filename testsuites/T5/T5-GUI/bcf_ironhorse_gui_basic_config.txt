* Settings
Documentation   	Test suite with tests create tenants. The tests have
...             	a workflow that is created using keywords from the resource file.
Suite Setup  		config suite setup
Suite Teardown  	config suite teardown
Force Tags          T5  GUI  BCF  Feature  IronHorse
Library         	keywords/BsnCommon.py
Library        		keywords/BsnSelenium.py
Library				keywords/T5Utilities.py
Library        		SeleniumLibrary
Resource        	bcf_resource.txt
Library       		String



*Test Case
	
### Create Tenant
		
T1.1 Create Tenant with name as small 
	Create Tenant						tenant				Tenant name and description as small
T1.2 Create Tenant with a dot in between name
    Create Tenant						tenant.1			Tenant name 1 and description with a space	
T1.3 Create Tenant with a hypen in name
    Create Tenant					 	tenant-2			Tenant name-2-and description-with-hyphens
T1.4 Create Tenant with an underscore in name
    Create Tenant						tenant_3			Tenant_name and description_with_underscores
T1.5 Create Tenant with name in CAPS
    Create Tenant						TENANT				TENANT NAME AND DESCRIPTION ALL CAPS	
T1.6 Create Tenant with no description
    Create Tenant						TeNant5				${EMPTY}			
T1.7 Delete Tenants
    Delete All Tenants
    
### Controller State

T2.1 Show stats for standby controller
	Show Controller Stats				STANDBY
T2.2 Show stats for active controller
	Show Controller Stats				ACTIVE
	
### Configure Switch					mac						name			role		leaf-group

T3.1 Add a switch								
	Provision Switch			00:0a:99:02:00:ff		switch-1			None		${EMPTY}		
T3.2 Add a spine switch								
	Provision Switch			00:0a:99:03:22:33		switch.spine		Spine		${EMPTY}
T3.3 Add a leaf switch with leaf group 'leaf-group'						
	Provision Switch			00:aa:19:33:42:33		switch-LEAF.1		Leaf		leaf-group
T3.4 Add a leaf switch using the previous leaf group								
	Provision Switch			00:ff:00:0a:03:22		switch.2-leaf		Leaf		leaf-group
T3.5 Add a leaf switch with new leaf group							
	Provision Switch			00:09:22:33:50:78		switch-lEAf.3		Leaf		leaf_group_new
T3.6 Remove the leaf group from the switch switch_lEAf_3
	Change Switch Config			switch-lEAf.3		Leaf		${EMPTY}
T3.7 Remove the leaf group from the switch switch-LEAF.1
	Change Switch Config			switch-LEAF.1		Leaf		${EMPTY}
T3.8 Change role for switch-1 to spine
	Change Switch Config			switch-1			Spine		${EMPTY}
T3.9 Change leaf group for switch_leaf.2
	Change Switch Config			switch.2-leaf		Leaf		leaf_group_new	
T3.10 Change role for switch_spine to leaf
	Change Switch Config			switch.spine		Leaf		leaf-group	
T3.11 Change role for switch-LEAF.1 to None
	Change Switch Config			switch-LEAF.1		None		${EMPTY}	
T3.12 Change role to none for switch_lEAf_3
	Change Switch Config			switch-lEAf.3		None		${EMPTY}		
T3.13 Clear Switch config
	Clear Switch Config				switch-LEAF.1		


### Configure Switch Interfaces					

T4.1 Configure Interfaces for switch switch_lEAf_3
	Config  	master  switch switch-lEAf.3; interface ethernet1; interface ethernet2; interface ethernet3; interface ethernet4; interface ethernet5			
T4.2 Configure Interfaces for spine switch switch-1
	Config  	master  switch switch-1; interface ethernet1; interface ethernet2; interface ethernet3; interface ethernet4; interface ethernet5					
T4.3 Configure Interfaces for leaf switch switch_leaf.2
	Config  	master  switch switch.2-leaf; interface ethernet1; interface ethernet2; interface ethernet3; interface ethernet4; interface ethernet5					
T4.4 Configure Interfaces for leaf switch switch_spine
	Config  	master  switch switch.spine; interface ethernet1; interface ethernet2; interface ethernet3; interface ethernet4; interface ethernet5					


### Adding Port Groups				name			mode			Leaf Group

T5.1 Create Port group with name as small and mode Static
	Create Port Group				portgroup		Static			leaf-group
T5.2 Create Port group with a dot in between name
    Create Port Group				port.group.1	Static			leaf_group_new
T5.3 Create Port group with a hyphen in name
    Create Port Group				port-group-2	Static			leaf-group
T5.4 Create Port group with an underscore in name
    Create Port Group				port_group_3	Static			leaf_group_new
T5.5 Create Port group with name in CAPS and mode as LACP
    Create Port Group				PORT-GROUP-4	LACP			leaf_group_new
T5.11 Delete Port groups
    Delete All Port Groups
    
#### Support Bundles

T6.1 Generate a Support Bundle
	Generate Support Bundle
	[Tags]   gf		
T6.2 Delete Support Bundle
	Delete All Support Bundles	

### Configure User	  		Username 			Password 			Confirm Password  			Full Name				Group
T7.1 User with password 	
 	Configure User			user1				testtest			testtest					User with password		${EMPTY}
T7.2 User no password		
 	Configure User			user2				${EMPTY}			${EMPTY}					User no password		${EMPTY}
T7.3 User wrong password
 	Configure User			user3				testtest1			testtest					User wrong password		${EMPTY}
T7.4 User no full name	
 	Configure User			user4				testtest			testtest					${EMPTY}				${EMPTY}
T7.5 User group admin
 	Configure User			user5				adminadmin			adminadmin					User group admin		admin
T7.6 User wrong password and new group
 	Configure User			user6				adminadmin			adminadmin					User new group			admin
#T7.7 User unhashable pass
#	Configure User			user7				;"$					testtest					User unhashable pass	${EMPTY}
T7 Teardown
 	Delete All Users
 	
### Configure SNMP Traps	Contact		Location	Community	Traps		Server		Port
T8.1 Configure SNMP 	
	Configure SNMP			Contact1	L0cation2	Community3   Enabled  	${EMPTY}	${EMPTY}
T8.2 Configure SNMP		
	Configure SNMP			Cntct_2		L0cation_2  Community_3  Disabled	2.3.1.4		162
T8.3 Configure SNMP
	Configure SNMP			Contact-3   L0cation-3  Community-3  Enabled	1.22.14.64  2300
T8.4 Configure SNMP Traps	
	Configure SNMP Traps	${EMPTY}	${EMPTY}	${EMPTY}	${EMPTY}	${EMPTY}	${EMPTY}	${EMPTY}
T8.5 Edit SNMP Traps
	Configure SNMP Traps	${EMPTY}	1			${EMPTY}	1			50			${EMPTY}	${EMPTY}
T8.6 Edit SNMP Traps
	Configure SNMP Traps		1		1			1			1			10			20			100
T8.7 Edit SNMP Traps
	Configure SNMP Traps	${EMPTY}	${EMPTY}	1			1			${EMPTY}	${EMPTY}	0


#### Configure TACACS Server	Server		Timeout		Secret			Encryption

T9.1 Add TACACS Host with timeout and no secret 	
 	Add TACACS Host				1.2.3.4		10			${EMPTY}		No		
T9.2 Add TACACS Host with no timeout and secret		
 	Add TACACS Host				2.3.1.0		30			Secret!23		No	
T9.3 Add TACACS Host with timeout and secret and encryption		
 	Add TACACS Host				2.3.1.4		16			Encryption_1-@  Yes
T9.4 Edit TACACS Host
 	Edit TACACS Host			1.2.3.4		1.22.14.64  23			New-Secret		Yes
T9.5 Edit TACACS Host	
 	Edit TACACS Host			2.3.1.4		8.9.7.6		14			New_Encrypt		Yes
T9.6 Delete TACACS Host
 	Delete TACACS Host			1.22.14.64
T9.7 Delete TACACS Host
 	Delete TACACS Host			2.3.1.0	
T9.8 Delete All TACACS Hosts
	Delete All TACACS Hosts	

T9.9 Default TACACS Settings - timeout
	Go To Tacacs Page
	Configure TACACS Default Settings  10  ${EMPTY}  No
	Page Should Contain  10
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server timeout 10
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server key
	...  flag=False
	[Tags]  BVS-2739

T9.10 Default TACACS Settings - secret
	Go To Tacacs Page
	Configure TACACS Default Settings  ${EMPTY}  foo-secret  No
	Page Should Contain  30
	Page Should Contain  foo-secret
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server timeout 30
	...  flag=False
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server key 7 foo-secret
	[Tags]  BVS-2739

T9.11 Default TACACS Settings - default timeout and secret
	Go To Tacacs Page
	#Configure TACACS Default Settings  30  secret  No
	Configure TACACS Default Settings  30  foo-secret  No
	Page Should Contain  30
	Page Should Contain  foo-secret
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server timeout 30
	...  flag=False
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server key 7 foo-secret
	[Tags]  BVS-2739

T9.12 Default TACACS Settings - timeout and secret
	Go To Tacacs Page
	Configure TACACS Default Settings  5  secret1234  No
	Page Should Contain  5
	Page Should Contain  secret1234
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server timeout 5
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server key 7 secret1234
	[Tags]  BVS-2739

T9.13 Default TACACS Settings - timeout and encryped secret
	Go To Tacacs Page
	Configure TACACS Default Settings  15  secret  Yes
	Page Should Contain  15
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server timeout 15
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server key 7
	[Tags]  BVS-2739

T9.14 Default TACACS Settings edit
	Go To Tacacs Page
	Configure TACACS Default Settings  10  secret-foo  No
	Page Should Contain  10
	Page Should Contain  secret-foo
	Configure TACACS Default Settings  20  ${EMPTY}  No
	Page Should Contain  20
	Page Should Not Contain  secret-foo
	Configure TACACS Default Settings  30  secret-foo  Yes
	Page Should Contain  30
	Page Should Not Contain  secret-foo
	Configure TACACS Default Settings  20  secret-foo  Yes
	Page Should Contain  20
	Page Should Not Contain  secret-foo
	[Tags]  BVS-2739

T9.15 Default TACACS Settings delete
	Go To Tacacs Page
	Configure TACACS Default Settings  ${EMPTY}  ${EMPTY}  Yes
	Page Should Contain  30
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server timeout 30
	...  flag=False
	Cli Run and Verify Output  master
	...  show running-config tacacs
	...  tacacs server key
	...  flag=False
	[Tags]  BVS-2739
	 
#### Configure AAA Accounting
T10.1 Accounting Configuration local+remote
	Configure Accounting  Yes  Yes
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa accounting exec default start-stop local group tacacs+
T10.2 Accounting Configuration local only
	Configure Accounting  Yes  No
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa accounting exec default start-stop local
T10.3 Accounting Configuration remote only
	Configure Accounting  No  Yes
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa accounting exec default start-stop group tacacs+
T10.4 Accounting Configuration none
	Configure Accounting  No  No
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa accounting
	...  flag=False

#### Configure AAA Authentication
T11.1 Authentication Configuration Local TACACS
	Configure Authentication  Local  TACACS
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa authentication login default local group tacacs+
T11.2 Authentication Configuration TACACS Local
	Configure Authentication  TACACS  Local
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa authentication login default group tacacs+ local
T11.3 Authentication Configuration Local
	Configure Authentication  Local  None
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa authentication login default local
T11.4 Authentication Configuration Remote then None
	Configure Authentication  TACACS  None
	Configure Authentication  None  ${EMPTY}
	Cli Run and Verify Output  master
	...  show running-config
	...  aaa authentication
	...  flag=False

T12.1 Sync to bigswitch NTP server
	Go To Clock Page
	Sync To NTP Server  0.bigswitch.pool.ntp.org
	Sleep  15
	[Tags]  NTP

T12.2 Configure NTP Server and delete with action menu
	Go To Clock Page
	Configure NTP Server  1.1.1.1
	Configure NTP Server  2.2.2.2
	Configure NTP Server  3.3.3.3
	Configure NTP Server  4.4.4.4
	Configure NTP Server  5.5.5.5
	Sync To NTP Server  5.5.5.5
	Sleep  15
	Delete NTP Server Using Action Menu  5.5.5.5
	Go To Clock Page
	Delete NTP Server Using Action Menu  4.4.4.4
	Go To Clock Page
	Delete NTP Server Using Action Menu  3.3.3.3
	Go To Clock Page
	Delete NTP Server Using Action Menu  2.2.2.2
	Go To Clock Page
	Delete NTP Server Using Action Menu  1.1.1.1
	[Tags]  NTP

T12.3 Configure NTP Server and delete with minus button
	Go To Clock Page
	Configure NTP Server  1.1.1.1
	Configure NTP Server  2.2.2.2
	Configure NTP Server  3.3.3.3
	Configure NTP Server  4.4.4.4
	Configure NTP Server  5.5.5.5
	Run Keyword and Expect Error  *  Delete NTP Server Using Minus Button  5.5.5.5
	Go To Next Table Page
	Sync To NTP Server  5.5.5.5
	Sleep  15
	Go To Next Table Page
	Delete NTP Server Using Minus Button  5.5.5.5
	Delete NTP Server Using Minus Button  4.4.4.4
	Delete NTP Server Using Minus Button  3.3.3.3
	Delete NTP Server Using Minus Button  2.2.2.2
	Delete NTP Server Using Minus Button  1.1.1.1
	[Tags]  NTP  BVS-2750

* Keyword
config suite setup
    base suite setup
    Config  master  show running-conifg
    Config  slave  show running-config
	${c1_ip}=            get node ip   master
    set suite variable  ${SERVER}  ${c1_ip}
    Set URLs
    Start Selenium Server  -trustAllSSLCertificates
    Sleep  30
    Open Browser To Login Page
    Valid Login  admin  adminadmin
    #Physical GUI Suite Setup
	
config suite teardown
	Clear Switch Config				switch-lEAf.3
	Clear Switch Config				switch-1
	Clear Switch Config				switch.2-leaf
	Clear Switch Config				switch.spine
	Close Browser
    Stop Selenium Server
    base suite teardown
