* Setting
Documentation   T5 Basic single leaf dual rack Test Suite
Suite Setup     base suite setup
Suite Teardown  base suite teardown
Test Setup      base test setup
Test Teardown   base test teardown
Force Tags      T5 Sanity
Library         keywords/BsnCommon.py
Library         keywords/Mininet.py
Library         keywords_dev/T5.py

* Test Case
ping bm0 to bm1 single leaf single rack dynamic endpoints
   REST create tenant  A
   create a vns  A  A
   add interface to vns  A  A  leaf0  leaf0-eth3  -1
   add interface to vns  A  A  leaf0  leaf0-eth4  -1
   #mininet pingall
   mininet ping  bm0  bm1
   delete interface from vns  A  A  leaf0  leaf0-eth3  -1
   delete interface from vns  A  A  leaf0  leaf0-eth4  -1
   [Tags]  T5 Sanity

#ping bm0 to bm1 single leaf single rack static endpoints
#   create a endpoint  A  A  e1
#   create a endpoint  A  A  e2
#   add interface to endpoint  A  A  e2  leaf0  leaf0-eth3  10
#   add interface to endpoint  A  A  e1  leaf0  leaf0-eth4  10
#   ping  h1  h2
#   delete a endpoint  A  A  e1
#   delete a endpoint  A  A  e2
#   [Tags]  T5 Sanity

#ping bm0 to bm1 single leaf single rack dynamic endpoints tag
#   add interface to vns  A  A  leaf0  leaf0-eth3  10
#   add interface to vns  A  A  leaf0  leaf0-eth4  10
#   ping  h1  h2
#   delete interface from vns  A  A  leaf0  leaf0-eth3  10
#   delete interface from vns  A  A  leaf0  leaf0-eth4  10
#   [Tags]  T5 Sanity

#ping bm0 to bm1 single leaf single rack static endpoints tag
#   create a endpoint  A  A  e1
#   create a endpoint  A  A  e2
#   add interface to endpoint  A  A  e2  leaf0  leaf0-eth4  10
#   add interface to endpoint  A  A  e1  leaf0  leaf0-eth3  10
#   ping  h1  h2
#   delete a endpoint  A  A  e1
#   delete a endpoint  A  A  e2

#ping bm0 to bm1 single leaf dual rack dynamic endpoints
#   add interface to vns  A  A  leaf0  leaf0-eth3  -1
#   add interface to vns  A  A  leaf1  leaf1-eth3  -1
#   ping  h1  h2
#   delete interface from vns  A  A  leaf0  leaf0-eth3  -1
#   delete interface from vns  A  A  leaf1  leaf1-eth3  -1
#   [Tags]  T5 Sanity

#ping bm0 to bm1 single leaf dual rack static endpoints
#   create a endpoint  A  A  e1
#   create a endpoint  A  A  e2
#   add interface to endpoint  A  A  e2  leaf1  leaf1-eth3  -1
#   add interface to endpoint  A  A  e1  leaf0  leaf0-eth3  -1
#   ping  h1  h2
#   delete a endpoint  A  A  e1
#   delete a endpoint  A  A  e2
#   [Tags]  T5 Sanity

#ping bm0 to bm1 single leaf dual rack dynamic endpoints tag
#   add interface to vns  A  A  leaf0  leaf0-eth3  10
#   add interface to vns  A  A  leaf1  leaf1-eth3  10
#   ping  h1  h2
#   delete interface from vns  A  A  leaf0  leaf0-eth3  10
#   delete interface from vns  A  A  leaf1  leaf1-eth3  10
#   [Tags]  T5 Sanity

#ping bm0 to bm1 single leaf dual rack static endpoints tag
#   create a endpoint  A  A  e1
#   create a endpoint  A  A  e2
#   add interface to endpoint  A  A  e2  leaf1  leaf1-eth3  10
#   add interface to endpoint  A  A  e1  leaf0  leaf0-eth3  10
#   ping  h1  h2
#   delete a endpoint  A  A  e1
#   delete a endpoint  A  A  e2
#   [Tags]  T5 Sanity
#   delete a vns  A  A
#   REST delete tenant  A

* Keywords
add interface to vns  [Arguments]  ${tenant}  ${vns}  ${switch}  ${intf}  ${vlan}
   REST add interface to vns  ${tenant}  ${vns}  ${switch}  ${intf}  ${vlan}

add interface to endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint}  ${switch}  ${intf}  ${vlan}
   REST add interface to endpoint  ${tenant}  ${vns}  ${endpoint}  ${switch}  ${intf}  ${vlan}

delete interface from vns  [Arguments]  ${tenant}  ${vns}  ${switch}  ${intf}  ${vlan}
   REST delete interface from vns  ${tenant}  ${vns}  ${switch}  ${intf}  ${vlan}

create a vns  [Arguments]  ${tenant}  ${vns}
   REST create vns  ${tenant}  ${vns}

delete a vns  [Arguments]  ${tenant}  ${vns}
   REST delete vns  ${tenant}  ${vns}

create a endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint}
   REST create endpoint  ${tenant}  ${vns}  ${endpoint}

delete a endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint}
   REST delete endpoint  ${tenant}  ${vns}  ${endpoint}

ping  [Arguments]  ${bm0}  ${bm1}
   REST ping  ${bm0}  ${bm1}

