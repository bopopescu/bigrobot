* Setting
Documentation   T5 Policy two spine three rack with dual-tor Test Suite
Suite Setup     setup topology
Suite Teardown  teardown topology
#Suite Setup     base suite setup
#Suite Teardown  base suite teardown
Test Setup       base test setup
Test Teardown	 base test teardown
#Test Setup      setup topology
#Test Teardown   teardown topology
#Suite Setup		setup topology
#Suite Teardown	teardown topology
Force Tags      T5 Sanity
Library         keywords/BsnCommon.py
Library         keywords/Mininet.py
Library         keywords/T5.py
Library         keywords/T5L3.py
Library         keywords_dev/animesh/BsnCommonShow.py
Resource		testsuites_dev/svoora/T5_Policy/t5_policy_fabric_cfg.txt
Resource		testsuites_dev/svoora/T5_Policy/t5_policy_variables.txt
Library         OperatingSystem
Library         Collections
Library         Dialogs

## Test Tpology: https://docs.google.com/a/bigswitch.com/document/d/1xxI_9UhNAFUwAIZ_lDHNO-P0r4Xaomxfwv2UDsLuRJo/edit
## FS/DS doc: https://bigswitch.atlassian.net/wiki/pages/viewpage.action?pageId=35848431#T5/T6IntegrationTestProgress-T5PolicyIntegration
##Notes:
##All Hosts are assumed to be Ixia ports, Scale tests will be performed in scale topology. Unidimensional scale tests will be executed. 3k tenant policy routes + 3k system routes (?). Focus is on following areas:
##1.) IP + Port + netmask ACL
##2.) Next hop
##3.) ecmp

##Controller CLI options:
##Under router tenant cli stanza

##1.) svooraC2(config-tenant-router-policy)# 10 from  â‡’ 10 is seq number
##<src-ip-cidr>   Enter the source IP subnet
##any             The source is wildcarded
##tenant          Qualify the source by a tenant
##vns             Qualify the source by a VNS

##+ port number as well
##2.) Above same options exist for the destination side as well.

##Sample configuration:
#! tenant
#tenant A
#  router
#    route 0.0.0.0/0 next-hop tenant system
#    interface tenant system               
#      apply policy-list tenantA-policy-deny in
#    interface vns A1                          
#      ip address 10.10.11.1/24                
#    interface vns A2                          
#      ip address 10.10.12.1/24                
#    policy-list tenantA-policy-deny           
#      10 from 10.10.21.1/24 to 10.10.11.1/24 deny
#  vns A1                                         
#    member port-group leaf0-bm0 vlan untagged    
#    member port-group leaf1-bm4 vlan untagged    
#  vns A2                                         
#    member port-group leaf0-bm1 vlan untagged    
#    member port-group leaf1-bm5 vlan untagged    
#    member port-group leaf1-bm7 vlan untagged    
 
 ## TESTPLAN divided into below sections
 #1.) CLI
 #2.) Funcitonality/HW verifications
 #3.) Interactions with other Network infra elements (HA, add other items)
 #4.) Few negitive cases (process restarts)
 #5.) Few Scale cases               
                           
##GLobal Verifications
## Any Exceptions in Conttoller
## ofad crfashes, if any

##Whereever mask testcases are present, test will be performed from bitmask from 8th bit to all the way to 32.





* Test Cases
##***********
##CLI Related test cases
CLI::T1 config policy-list under tenant
	[Tags]
	Verify policy-list name all string validations starts with number? max string length? invalid chars?
	Verify show commands after configure
	Verify running-config commands after configure
	Verify global policy-list commands after configure
	Verify help strings 

CLI::T2 Remove policy-list under tenant
	[Tags]
	Delete policy-list from tenant
	Verify running-config deletes it from tenant
	Verify show commands
	Verify global policy-list commands

CLI::T3 Config policy-list and attach to interface
	[Tags]
	Configure a policy-list and attach to interface
	Verify at running-config policy-list showed at interface
	Verify other show commands
	Verify global show commands
	Verify HW entry for that policy-list
	
CLI::T4 Remove policy-list from config
	[Tags]
	policy-list should not get deleted, since it is attached to an interface?
	Verify all CLI related commands

CLI::T5 Remove policy list from config and from an interface
	[Tags]
	Verify policy-list gets deleted from config and also removes from an interface
	Verify HW table to see entry gets wiped out

CLI::T6 Modify the existing policy-list
	[Tags]
	Verify running-config gets updated
	Verify global show commands
	Verify HW gets updated entry (dlete and add in HW?)
	
CLI::T7 Add another entry in existing policy-list
	[Tags]
	Add another seq# before to the existing policy-list
	Verify running-config
	Verify global show commands
	Verify HW
	Add another see# after to the existing policy-list
	Verify running-config
	Verify global show commands
	Verify HW
	
CLI::T8 Counters
	[Tags]
	Verify policy-list counters if any?
	
CLI::T9 Max number of entries in a policy-list
	[Tags]
	configure 5k entries in one policy-list
	Verify running-config and global show commands
	Verify HW programming

CLI::T10 Max number of policy-lists
	[Tags]
	Configure 3k policy-lists under one tenant
	Verify running-config and global show commands
	Verify HW programming

CLI::T11 Remove Max number of entries in a policy list and Max number of policies
	[Tags]
	Remove T9
	Remove T10
	
#FUNCTIONALITY:
#below cases are divided into 3 sets, one set policy specified at interface tenant system, second set specified at interface vns, and third set specified at default tenant system
T1 Interface tenant permit policy src-ip to dest-ip 
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm1_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm1_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 0 

T2 Interface tenant deny policy src-ip to dest-ip
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm1_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm1_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	 
T3 Interface tenant permit policy src-mask to dest-ip
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_vns2_ip1}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T4 Interface tenant deny policy src-mask to dest-ip
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_vns2_ip1}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T5 Interface tenant deny policy src-ip to dest-mask
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_vns1_ip1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T6 Interface tenant permit policy src-mask to dest-mask
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_vns2_ip1}
	${dst_dict}=  Create Dictionary  cidr  ${policy_vns1_ip1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T7 Interface tenant permit policy src-ip to dest-vns
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T8 Interface tenant deny policy src-ip to dest-vns
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T9 Interface tenant permit src-ip to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T10 Interface tenant deny src-ip to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########
T11 Interface tenant permit policy src-ip to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########
T12 Interface tenant deny policy src-ip to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_vns2_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T13 Interface tenant permit policy src-tenant to dest-ip
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T14 Interface tenant deny policy src-tenant to dest-ip
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T15 Interface tenant permit policy src-tenant to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T16 Interface tenant deny policy src-tenant to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T17 Interface tenant permit policy src-tenant to dest-vns
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T18 Interface tenant deny policy src-tenant to dest-vns
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T19 Interface tenant permit policy src-tenant to any
	[Tags]
	Policy tenant interface  10  permit  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${name}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T20 Interface tenant deny policy src-tenant to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T21 Interface tenant permit policy src-vns to dest-ip
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T22 Interface tenant deny policy src-vns to dest-ip
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T23 Interface tenant permit policy src-vns to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T24 Interface tenant deny policy src-vns to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T25 Interface tenant permit policy src-vns to dest-vns
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T26 Interface tenant deny policy src-vns to dest-vns
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########		
T27 Interface tenant permit policy src-vns to any
	[Tags]
	Policy tenant interface  10  permit  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T28 Interface tenant deny policy src-vns to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T29 Interface tenant permit policy any to dest-ip
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T30 Interface tenant deny policy any to dest-ip
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T31 Interface tenant permit policy any to dest-tenant
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T32 Interface tenant deny policy any to dest-tenant
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T33 Interface tenant permit policy any to dest-vns
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T34 Interface tenant deny policy any to dest-vns
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T35 Interface tenant permit policy any to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T36 Interface tenant deny policy any to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100

##Below are for ip and port combination specified at tenant system interface
##-------------------------------------##

T37 Interface tenant permit policy src-ip-port to dest-ip-port 
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm1_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm1_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 0 

T38 Interface tenant deny policy src-ip-port to dest-ip-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm1_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm1_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	 
T39 Interface tenant permit policy src-mask to dest-ip-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_vns2_ip1}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T40 Interface tenant deny policy src-mask to dest-ip-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_vns2_ip1}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T41 Interface tenant deny policy src-ip to dest-mask-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_vns1_ip1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T42 Interface tenant permit policy src-ip-port to dest-vns-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T43 Interface tenant deny policy src-ip-port to dest-vns
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T44 Interface tenant permit src-ip-port to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T45 Interface tenant deny src-ip-port to dest-tenant
	[Tags]  smoke
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########
T46 Interface tenant permit policy src-ip-port to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########
T47 Interface tenant deny policy src-ip-port to any
	[Tags]
	Policy tenant interface  10  deny  ${policy_vns2_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T48 Interface tenant permit policy src-tenant to dest-ip-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T49 Interface tenant deny policy src-tenant to dest-ip-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100
	
T50 Interface tenant permit policy src-vns to dest-ip-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy tenant interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0
	
T51 Interface tenant deny policy src-vns to dest-ip-port
	[Tags]  smoke
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_bm0_ip}
	Policy tenant interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T52 Interface tenant permit policy any to dest-ip-port
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
	
######  **  ANY need more investigation  **  ########	
T53 Interface tenant deny policy any to dest-ip-port
	[Tags]
	Policy tenant interface  10  deny  ${policy_tenant2}  ${policy_tenant1}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_name}		3
	sleep										1
	Should Be True  							${loss} == 100
###################


##Below are specified at vns interface
##-----------------------------------##

T54 Interface vns permit policy src-ip to dest-ip 
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T55 Interface vns deny policy src-ip to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T56 Interface vns permit policy src-ip to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T57 Interface vns deny policy src-ip to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T58 Interface vns permit src-ip to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T59 Interface vns deny src-ip to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T60 Interface vns permit policy src-ip to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T61 Interface vns deny policy src-ip to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T62 Interface vns permit policy src-tenant to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T63 Interface vns deny policy src-tenant to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T64 Interface vns permit policy src-tenant to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T65 Interface vns deny policy src-tenant to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T66 Interface vns permit policy src-tenant to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T67 Interface vns deny policy src-tenant to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T68 Interface vns permit policy src-tenant to any
	[Tags]
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	Policy vns interface  10  permit  ${policy_tenant2}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T69 Interface vns deny policy src-tenant to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0


T70 Interface vns permit policy src-vns to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T71 Interface vns deny policy src-vns to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T72 Interface vns permit policy src-vns to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T73 Interface vns deny policy src-vns to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T74 Interface vns permit policy src-vns to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T75 Interface vns deny policy src-vns to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T76 Interface vns permit policy src-vns to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T77 Interface vns deny policy src-vns to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T78 Interface vns permit policy any to dest-ip
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T79 Interface vns deny policy any to dest-ip
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T80 Interface vns permit policy any to dest-tenant
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T81 Interface vns deny policy any to dest-tenant
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T82 Interface vns permit policy any to dest-vns
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T83 Interface vns deny policy any to dest-vns
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T84 Interface vns permit policy any to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T85 Interface vns deny policy any to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

##Below are for ip and port combination specified at vns interface
##-------------------------------------##

T86 Interface vns permit policy src-ip-port to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T87 Interface vns deny policy src-ip-port to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T88 Interface vns permit policy src-ip-port to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T89 Interface vns deny policy src-ip-port to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T90 Interface vns permit src-ip-port to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T91 Interface vns deny src-ip-port to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T92 Interface vns permit policy src-ip-port to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T93 Interface vns deny policy src-ip-port to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T94 Interface vns permit policy src-tenant to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T95 Interface vns deny policy src-tenant to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100


T96 Interface vns permit policy src-vns to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T97 Interface vns deny policy src-vns to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T98 Interface vns permit policy any to dest-ip-port
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T99 Interface vns deny policy any to dest-ip-port
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

##---------------------------------##

##Below are specified at default tenant system
##-------------------------------------------##

T100 default tenant system permit policy src-ip to dest-ip 
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T101 default tenant system deny policy src-ip to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T102 default tenant system permit policy src-ip to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T103 default tenant system deny policy src-ip to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T104 default tenant system permit src-ip to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T105 default tenant system deny src-ip to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T106 default tenant system permit policy src-ip to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T107 default tenant system deny policy src-ip to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T108 default tenant system permit policy src-tenant to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T109 default tenant system deny policy src-tenant to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T110 default tenant system permit policy src-tenant to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T111 default tenant system deny policy src-tenant to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T112 default tenant system permit policy src-tenant to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T113 default tenant system deny policy src-tenant to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T114 default tenant system permit policy src-tenant to any
	[Tags]
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	Policy vns interface  10  permit  ${policy_tenant2}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T115 default tenant system deny policy src-tenant to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0


T116 default tenant system permit policy src-vns to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T117 default tenant system deny policy src-vns to dest-ip
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T118 default tenant system permit policy src-vns to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T119 default tenant system deny policy src-vns to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T120 default tenant system permit policy src-vns to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T121 default tenant system deny policy src-vns to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T122 default tenant system permit policy src-vns to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T123 default tenant system deny policy src-vns to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T124 default tenant system permit policy any to dest-ip
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T125 default tenant system deny policy any to dest-ip
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T126 default tenant system permit policy any to dest-tenant
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T127 default tenant system deny policy any to dest-tenant
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T128 default tenant system permit policy any to dest-vns
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T129 default tenant system deny policy any to dest-vns
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T130 default tenant system permit policy any to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T131 default tenant system deny policy any to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

##Below are for ip and port combination specified at vns interface
##-------------------------------------##

T132 default tenant system permit policy src-ip-port to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T133 default tenant system deny policy src-ip-port to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T134 default tenant system permit policy src-ip-port to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T135 default tenant system deny policy src-ip-port to dest-vns
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  vns-name  ${policy_vns1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

T136 default tenant system permit src-ip-port to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T137 default tenant system deny src-ip-port to dest-tenant
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  cidr  ${policy_bm6_ip}
	${dst_dict}=  Create Dictionary  tenant-name  ${policy_tenant1}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T138 default tenant system permit policy src-ip-port to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T139 default tenant system deny policy src-ip-port to any
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T140 default tenant system permit policy src-tenant to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T141 default tenant system deny policy src-tenant to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  tenant-name  ${policy_tenant2}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100


T142 default tenant system permit policy src-vns to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  permit  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

T143 default tenant system deny policy src-vns to dest-ip-port
	[Tags]  smoke  vns
	${src_dict}=  Create Dictionary  vns-name  ${policy_vns4}
	${dst_dict}=  Create Dictionary  cidr  ${policy_bm0_ip}
	Policy vns interface  10  deny  ${src_dict}  ${dst_dict}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 100

######  **  ANY need more investigation  **  ########	
T144 default tenant system permit policy any to dest-ip-port
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

######  **  ANY need more investigation  **  ########	
T145 default tenant system deny policy any to dest-ip-port
	[Tags]
	Policy vns interface  10  permit  ${policy_bm6_ip}  ${policy_bm0_ip}
	${loss}=									mininet l3 ping		${bm6_name}				${bm0_ip}		3
	sleep										1
	Should Be True  							${loss} == 0

##---------------------------------##


T146 Interface tenant and vns permit policy src-ip to dest-ip
T147 Interface tenant permit vns deny policy src-ip to dest-ip
T148 Interface tenant deny vsn permit policy src-ip to dest-ip
T149 Interface tenant and vns deny policy src-ip to dest-ip

T150 Interface tenant and vns permit policy src-vns to dest-vns
T151 Interface tenant permit vns deny policy src-vns to dest-vns
T152 Interface tenant deny vsn permit policy src-vns to dest-vns
T153 Interface tenant and vns deny policy src-vns to dest-vns

T154 Interface tenant and vns permit policy src-tenant to dest-tenant
T55 Interface tenant permit vns deny policy src-tenant to dest-tenant
T56 Interface tenant deny vsn permit policy src-tenant to dest-tenant
T57 Interface tenant and vns deny policy src-tenant to dest-tenant

#NEXT-HOP
T158 Interface tenant next-hop policy src-tenant to dest-tenant
T159 Interface tenant next-hop policy src-tenant to ip
T160 Interface tenant next-hop policy src-ip to dest-tenant
T161 Interface tenant next-hop policy src-ip to dest-ip
T162 Interface tenant next-hop policy src-vns to dest-tenant
T163 Interface tenant next-hop policy src-vns to ip

T164 Interface vns next-hop policy src-tenant to dest-tenant
T165 Interface vns next-hop policy src-tenant to ip
T166 Interface vns next-hop policy src-ip to dest-tenant
T167 Interface vns next-hop policy src-ip to dest-ip
T168 Interface vns next-hop policy src-vns to dest-tenant
T169 Interface vns next-hop policy src-vns to ip


#ECMP-GROUP

T170 Interface tenant ecmp-group policy src-tenant to dest-tenant
T171 Interface tenant ecmp-group policy src-tenant to ip
T172 Interface tenant ecmp-group policy src-ip to dest-tenant
T173 Interface tenant ecmp-group policy src-ip to dest-ip
T174 Interface tenant ecmp-group policy src-vns to dest-tenant
T175 Interface tenant ecmp-group policy src-vns to ip

T176 Interface vns ecmp-group policy src-tenant to dest-tenant
T177 Interface vns ecmp-group policy src-tenant to ip
T178 Interface vns ecmp-group policy src-ip to dest-tenant
T179 Interface vns ecmp-group policy src-ip to dest-ip
T180 Interface vns ecmp-group policy src-vns to dest-tenant
T181 Interface vns ecmp-group policy src-vns to ip

T182 Remove Add permit policy at tenant interface
T183 Remove Add permit policy at vns interface
T184 Remove Add next-hop policy at tenant interface
T185 Remove Add next-hop policy at vns interface
T186 Remove Add ecmp-group at tenant interface
T187 Remove Add ecmp-group at vns interface

T188 shut no shut switch interface
T189 Remove Add tenant interface
T190 Remove Add vns interface
T191 Remove Add switch

T192 HA failover
T193 Reboot standby
T194 Reboot master
T195 poweroff switch
T196 poweron switch
T197 poweroff master controller
T198 poweroff slave controller
T199 Configure 3k policies under tenant interface
T200 Configure 3k policies under vns interface
T201 mix T121 + T122

T202 Shut Mgmt port in switch and connect back
T203 Verify syslogs for any scale errors

T204 Configure Multiple entries in the policy
T205 Remove and add entires before and after existing entires and verify traffic disruptions
T206 Add a new switch, which was part of another DC with exsiting deny policy to the new DC verify all policies should wipeout

T207 restart ofad
T208 restart floodlight

	
* Keywords
setup topology
	base suite setup
	add fabric switch
	sleep 										1
	REST add portgroup							${portgroup0}
	REST add portgroup							${portgroup1}
	REST add portgroup							${portgroup2}
	REST add portgroup							${portgroup3}
	REST add portgroup							${portgroup4}
	REST add portgroup							${portgroup5}
	REST add portgroup							${portgroup6}
	REST add portgroup							${portgroup7}
	REST add portgroup							${portgroup8}
	REST add portgroup							${portgroup9}
	REST add portgroup							${portgroup10}
	REST add portgroup							${portgroup11}
	REST add leaf group							${leaf0a_name}		${leafgroup0}
	REST add leaf group							${leaf0b_name}		${leafgroup0}
	REST add leaf group							${leaf1a_name}		${leafgroup1}
	REST add leaf group							${leaf1b_name}		${leafgroup1}
	REST add leaf group							${leaf2a_name}		${leafgroup2}
	REST add leaf group							${leaf2b_name}		${leafgroup2}
	REST add interface to portgroup				${leaf0a_name}		${leaf0a_intf1}		${portgroup0} 
	REST add interface to portgroup				${leaf0b_name}		${leaf0b_intf1}		${portgroup0} 
	REST add interface to portgroup				${leaf0a_name}		${leaf0a_intf2}		${portgroup1} 
	REST add interface to portgroup				${leaf0b_name}		${leaf0b_intf2}		${portgroup1} 
	REST add interface to portgroup				${leaf0a_name}		${leaf0a_intf3}		${portgroup2} 
	REST add interface to portgroup				${leaf0b_name}		${leaf0b_intf3}		${portgroup2} 
	REST add interface to portgroup				${leaf0a_name}		${leaf0a_intf4}		${portgroup3} 
	REST add interface to portgroup				${leaf0b_name}		${leaf0b_intf4}		${portgroup3} 	
	REST add interface to portgroup				${leaf1a_name}		${leaf1a_intf1}		${portgroup4} 
	REST add interface to portgroup				${leaf1b_name}		${leaf1b_intf1}		${portgroup4} 
	REST add interface to portgroup				${leaf1a_name}		${leaf1a_intf2}		${portgroup5} 
	REST add interface to portgroup				${leaf1b_name}		${leaf1b_intf2}		${portgroup5} 
	REST add interface to portgroup				${leaf1a_name}		${leaf1a_intf3}		${portgroup6} 
	REST add interface to portgroup				${leaf1b_name}		${leaf1b_intf3}		${portgroup6} 
	REST add interface to portgroup				${leaf1a_name}		${leaf1a_intf4}		${portgroup7} 
	REST add interface to portgroup				${leaf1b_name}		${leaf1b_intf4}		${portgroup7} 
	REST add interface to portgroup				${leaf2a_name}		${leaf2a_intf1}		${portgroup8} 
	REST add interface to portgroup				${leaf2b_name}		${leaf2b_intf1}		${portgroup8} 
	REST add interface to portgroup				${leaf2a_name}		${leaf2a_intf2}		${portgroup9} 
	REST add interface to portgroup				${leaf2b_name}		${leaf2b_intf2}		${portgroup9} 
	REST add interface to portgroup				${leaf2a_name}		${leaf2a_intf3}		${portgroup10} 
	REST add interface to portgroup				${leaf2b_name}		${leaf2b_intf3}		${portgroup10} 
	REST add interface to portgroup				${leaf2a_name}		${leaf2a_intf4}		${portgroup11} 
	REST add interface to portgroup				${leaf2b_name}		${leaf2b_intf4}		${portgroup11} 	
	REST add tenant 							${tenant1_name}
	REST add tenant								${tenant2_name}
	REST add vns								${tenant1_name}		${vns1_1}
	REST add vns								${tenant1_name}		${vns1_2}
	REST add vns								${tenant1_name}		${vns1_3}
	REST add vns								${tenant2_name}		${vns2_1}
	REST add vns								${tenant2_name}		${vns2_2}
	REST add vns								${tenant2_name}		${vns2_3}
	#REST add router intf						${tenant1_name}		${vns1_1}
	#REST add router intf						${tenant1_name}		${vns1_2}
	#REST add router intf						${tenant1_name}		${vns1_3}
	#REST add router intf						${tenant2_name}		${vns2_1}
	#REST add router intf						${tenant2_name}		${vns2_2}
	#REST add router intf						${tenant2_name}		${vns2_3}
	REST add vns ip  							${tenant1_name}  	${vns1_1}  		${vns1_ip1}	  		${vns1_subnet1} 	
	REST add vns ip  							${tenant1_name}  	${vns1_2}  		${vns1_ip2}	  		${vns1_subnet2} 	
	REST add vns ip  							${tenant1_name}  	${vns1_3}  		${vns1_ip3}	  		${vns1_subnet3}
	REST add vns ip  							${tenant2_name}  	${vns2_1}  		${vns2_ip1}	  		${vns2_subnet1} 	
	REST add vns ip  							${tenant2_name}  	${vns2_2}  		${vns2_ip2}	  		${vns2_subnet2} 	
	REST add vns ip  							${tenant2_name}  	${vns2_3}  		${vns2_ip3}	  		${vns2_subnet3}
	REST add portgroup to vns					${tenant1_name}  	${vns1_1} 		${portgroup0} 		${untaggedvlan}	
	REST add portgroup to vns					${tenant1_name}  	${vns1_2} 		${portgroup1} 		${untaggedvlan}	
	REST add portgroup to vns					${tenant2_name}  	${vns2_3} 		${portgroup2} 		${untaggedvlan}
	REST add portgroup to vns					${tenant2_name}  	${vns2_2} 		${portgroup3} 		${untaggedvlan}
	REST add portgroup to vns					${tenant1_name}  	${vns1_1} 		${portgroup4} 		${untaggedvlan}
	REST add portgroup to vns					${tenant1_name}  	${vns1_2} 		${portgroup5} 		${untaggedvlan}
	REST add portgroup to vns					${tenant2_name}  	${vns2_1} 		${portgroup6} 		${untaggedvlan}
	REST add portgroup to vns					${tenant1_name}  	${vns1_2} 		${portgroup7} 		${untaggedvlan}
	REST add portgroup to vns					${tenant2_name}  	${vns2_1} 		${portgroup8} 		${untaggedvlan}
	REST add portgroup to vns					${tenant2_name}  	${vns2_2} 		${portgroup9} 		${untaggedvlan}
	REST add portgroup to vns					${tenant2_name}  	${vns2_3} 		${portgroup10} 		${untaggedvlan}	
	REST add static routes						${tenant1_name}		0.0.0.0/0		 {"tenant-name": "system"}
	REST add static routes						${tenant2_name}		0.0.0.0/0		 {"tenant-name": "system"}	
	add inter tenant routing
	mininet host config
	
	
teardown topology
	delete fabric switch
	sleep										1
	REST delete portgroup from vns				${tenant2_name}  	${vns2_3} 		${portgroup10} 		${untaggedvlan}	
	REST delete portgroup from vns				${tenant1_name}  	${vns1_1} 		${portgroup0} 		${untaggedvlan}	
	REST delete portgroup from vns				${tenant1_name}  	${vns1_2} 		${portgroup1} 		${untaggedvlan}	
	REST delete portgroup from vns				${tenant2_name}  	${vns2_3} 		${portgroup2} 		${untaggedvlan}
	REST delete portgroup from vns				${tenant2_name}  	${vns2_2} 		${portgroup3} 		${untaggedvlan}
	REST delete portgroup from vns				${tenant1_name}  	${vns1_1} 		${portgroup4} 		${untaggedvlan}
	REST delete portgroup from vns				${tenant1_name}  	${vns1_2} 		${portgroup5} 		${untaggedvlan}
	REST delete portgroup from vns				${tenant2_name}  	${vns2_1} 		${portgroup6} 		${untaggedvlan}
	REST delete portgroup from vns				${tenant1_name}  	${vns1_2} 		${portgroup7} 		${untaggedvlan}
	REST delete portgroup from vns				${tenant2_name}  	${vns2_1} 		${portgroup8} 		${untaggedvlan}
	REST delete portgroup from vns				${tenant2_name}  	${vns2_2} 		${portgroup9} 		${untaggedvlan}
	REST delete vns ip  						${tenant1_name}  	${vns1_1}  		${vns1_ip1}	  		${vns1_subnet1} 	
	REST delete vns ip  						${tenant1_name}  	${vns1_2}  		${vns1_ip2}	  		${vns1_subnet2} 	
	REST delete vns ip  						${tenant1_name}  	${vns1_3}  		${vns1_ip3}	  		${vns1_subnet3}
	REST delete vns ip  						${tenant2_name}  	${vns2_1}  		${vns2_ip1}	  		${vns2_subnet1} 	
	REST delete vns ip  						${tenant2_name}  	${vns2_2}  		${vns2_ip2}	  		${vns2_subnet2} 	
	REST delete vns ip  						${tenant2_name}  	${vns2_3}  		${vns2_ip3}	  		${vns2_subnet3}
	REST delete vns								${tenant1_name}		${vns1_1}
	REST delete vns								${tenant1_name}		${vns1_2}
	REST delete vns								${tenant1_name}		${vns1_3}
	REST delete vns								${tenant2_name}		${vns2_1}
	REST delete vns								${tenant2_name}		${vns2_2}
	REST delete vns								${tenant2_name}		${vns2_3}	
	REST delete tenant							${tenant_system}
	REST delete tenant							${tenant1_name}
	REST delete tenant							${tenant2_name}
	REST delete interface from portgroup			${leaf0a_name}		${leaf0a_intf1}		${portgroup0} 
	REST delete interface from portgroup			${leaf0b_name}		${leaf0b_intf1}		${portgroup0} 
	REST delete interface from portgroup			${leaf0a_name}		${leaf0a_intf2}		${portgroup1} 
	REST delete interface from portgroup			${leaf0b_name}		${leaf0b_intf2}		${portgroup1} 
	REST delete interface from portgroup			${leaf0a_name}		${leaf0a_intf3}		${portgroup2} 
	REST delete interface from portgroup			${leaf0b_name}		${leaf0b_intf3}		${portgroup2} 
	REST delete interface from portgroup			${leaf0a_name}		${leaf0a_intf4}		${portgroup3} 
	REST delete interface from portgroup			${leaf0b_name}		${leaf0b_intf4}		${portgroup3} 	
	REST delete interface from portgroup			${leaf1a_name}		${leaf1a_intf1}		${portgroup4} 
	REST delete interface from portgroup			${leaf1b_name}		${leaf1b_intf1}		${portgroup4} 
	REST delete interface from portgroup			${leaf1a_name}		${leaf1a_intf2}		${portgroup5} 
	REST delete interface from portgroup			${leaf1b_name}		${leaf1b_intf2}		${portgroup5} 
	REST delete interface from portgroup			${leaf1a_name}		${leaf1a_intf3}		${portgroup6} 
	REST delete interface from portgroup			${leaf1b_name}		${leaf1b_intf3}		${portgroup6} 
	REST delete interface from portgroup			${leaf1a_name}		${leaf1a_intf4}		${portgroup7} 
	REST delete interface from portgroup			${leaf1b_name}		${leaf1b_intf4}		${portgroup7} 
	REST delete interface from portgroup			${leaf2a_name}		${leaf2a_intf1}		${portgroup8} 
	REST delete interface from portgroup			${leaf2b_name}		${leaf2b_intf1}		${portgroup8} 
	REST delete interface from portgroup			${leaf2a_name}		${leaf2a_intf2}		${portgroup9} 
	REST delete interface from portgroup			${leaf2b_name}		${leaf2b_intf2}		${portgroup9} 
	REST delete interface from portgroup			${leaf2a_name}		${leaf2a_intf3}		${portgroup10} 
	REST delete interface from portgroup			${leaf2b_name}		${leaf2b_intf3}		${portgroup10} 
	REST delete interface from portgroup			${leaf2a_name}		${leaf2a_intf4}		${portgroup11} 
	REST delete interface from portgroup			${leaf2b_name}		${leaf2b_intf4}		${portgroup11} 	
	REST delete portgroup						${portgroup0}
	REST delete portgroup						${portgroup1}
	REST delete portgroup						${portgroup2}
	REST delete portgroup						${portgroup3}
	REST delete portgroup						${portgroup4}
	REST delete portgroup						${portgroup5}
	REST delete portgroup						${portgroup6}
	REST delete portgroup						${portgroup7}
	REST delete portgroup						${portgroup8}
	REST delete portgroup						${portgroup9}
	REST delete portgroup						${portgroup10}
	REST delete portgroup						${portgroup11}
	sleep										10
	delete inter tenant routing
	base suite teardown
	

mininet host config
	mininet host ipcfg							${bm0_name}			${bm0_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm1_name}			${bm1_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm2_name}			${bm2_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm3_name}			${bm3_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm4_name}			${bm4_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm5_name}			${bm5_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm6_name}			${bm6_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm7_name}			${bm7_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm8_name}			${bm8_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm9_name}			${bm9_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm10_name}		${bm10_bondif}	0.0.0.0				0
	mininet host ipcfg							${bm11_name}		${bm11_bondif}	0.0.0.0				0
	sleep										1	
	mininet host ipcfg   						${bm0_name}			${bm0_bondif}	${bm0_ip}			${vns1_subnet1}
	mininet host ipcfg   						${bm1_name}			${bm1_bondif}	${bm1_ip}			${vns1_subnet2}
	mininet host ipcfg							${bm2_name}			${bm2_bondif}	${bm2_ip} 			${vns2_subnet3}
	mininet host ipcfg   						${bm3_name}			${bm3_bondif}	${bm3_ip}			${vns2_subnet2}
	mininet host ipcfg							${bm4_name}			${bm4_bondif}	${bm4_ip}			${vns1_subnet1}
	mininet host ipcfg   						${bm5_name}			${bm5_bondif}	${bm5_ip}			${vns1_subnet2}
	mininet host ipcfg							${bm6_name}			${bm6_bondif}	${bm6_ip}			${vns2_subnet1}
	mininet host ipcfg							${bm8_name}			${bm8_bondif}	${bm8_ip}			${vns2_subnet1}
	mininet host ipcfg							${bm9_name}			${bm9_bondif}	${bm9_ip}			${vns2_subnet2}
	mininet host ipcfg   						${bm10_name}		${bm10_bondif}	${bm10_ip}			${vns1_subnet1}	
	mininet host gw								${bm0_name}			${vns1_ip1}		${bm0_bondif}
	mininet host gw								${bm1_name}			${vns1_ip2}		${bm1_bondif}
	mininet host gw								${bm2_name}			${vns2_ip3}		${bm2_bondif}
	mininet host gw								${bm3_name}			${vns2_ip2}		${bm3_bondif}
	mininet host gw								${bm4_name}			${vns1_ip1}		${bm4_bondif}
	mininet host gw								${bm5_name}			${vns1_ip2}		${bm5_bondif}
	mininet host gw								${bm6_name}			${vns2_ip1}		${bm6_bondif}
	mininet host gw								${bm8_name}			${vns2_ip1}		${bm8_bondif}
	mininet host gw								${bm9_name}			${vns2_ip2}		${bm9_bondif}
	mininet host gw								${bm10_name}		${vns2_ip3}		${bm10_bondif}

add inter tenant routing
	REST add tenant								${tenant_system}
	REST add system to tenant routers 			${tenant1_name} 
   	REST add system to tenant routers 			${tenant2_name} 
   	REST add tenant routers to system			${tenant1_name} 
   	REST add tenant routers to system			${tenant2_name} 

delete inter tenant routing
	REST delete tenant routers to system		${tenant1_name}
	REST delete tenant routers to system		${tenant2_name}
	REST delete system to tenant routers		${tenant1_name}
	REST delete system to tenant routers		${tenant2_name}
	REST delete tenant							${tenant_system}
	
Policy tenant interface  [Arguments]  ${seq}  ${action}  ${src}  ${dst} 
	#add inter tenant routing
	#mininet host config
	REST add policy								${tenant1_name}		${tenant1_polname}		
	#REST add policy								${tenant2_name}		${tenant2_polname}
	REST add policy item						${tenant1_name}		${tenant1_polname}		${seq}		${action}		${src}		${dst}
	REST apply policy on tenant					${tenant1_name}		${tenant1_polname}
	common dumps

Policy vns interface  [Arguments]  ${seq}  ${action}  ${src}  ${dst} 
	#add inter tenant routing
	#mininet host config
	#REST add policy								${tenant1_name}		${tenant1_polname}		
	REST add policy								${tenant2_name}		${tenant2_polname}
	REST add policy item						${tenant2_name}		${tenant2_polname}		${seq}		${action}		${src}		${dst}
	REST apply policy on vns					${tenant2_name}		${vns2_1}				${tenant2_polname}
	common dumps
	

common dumps	
	mininet dump switch							${leaf0a_name}
	mininet dump switch							${leaf0b_name}
	mininet dump switch							${leaf1a_name}
	mininet dump switch							${leaf1b_name}
	mininet dump switch							${leaf2a_name}
	mininet dump switch							${leaf2b_name}
	REST show forwarding switch l3 host route	${leaf0a_name}
	REST show forwarding switch l3 host route	${leaf0b_name}
	REST show forwarding switch l3 host route	${leaf1a_name}
	REST show forwarding switch l3 host route	${leaf1b_name}
	REST show forwarding switch l3 host route	${leaf2a_name}
	REST show forwarding switch l3 host route	${leaf2b_name}	
	REST show forwarding switch l3 cidr route	${leaf0a_name}
	REST show forwarding switch l3 cidr route	${leaf0b_name}
	REST show forwarding switch l3 cidr route	${leaf1a_name}
	REST show forwarding switch l3 cidr route	${leaf1b_name}
	REST show forwarding switch l3 cidr route	${leaf2a_name}
	REST show forwarding switch l3 cidr route	${leaf2b_name}	
	REST show running config
	sleep										1
	#mininet l3 ping							${bm4_name} 		${bm8_ip}		3
	#sleep										1
	#${loss}=  									mininet l3 ping		${bm4_name}		${bm8_ip} 	
	#Should Be True  							${loss} == 0	
	#${endpoints_cnt}=							rest count endpoints mac
#	#Should Be True  							${endpoints_cnt} == 8
	#delete inter tenant routing	