== T5 Fabric Role Verification Test ==


* Setting 

Documentation  T5 Fabric Role Change Test suite
Suite Setup  base suite setup
Suite Teardown  base suite teardown
Test Setup  base test setup
Test Teardown  base test teardown
Force Tags  T5 Sanity
Library  keywords/BsnCommon.py
Library  keywords_dev/T5.py
Library  keywords_dev/T5Fabric.py
Library	 keywords_dev/T5_L3.py
Resource  keywords_dev/t5_dualleaf_resource.txt



* Test Case   

Configure Dual Rack Dual Leaf Topology
   configure fabric switch
   sleep  5
   rest check fabric switch connectivity

Verify the Fabric Role Spine0
   sleep  5 
   check fabric switch role  00:00:00:00:01:00:00:01  spine  

Remove/add the Fabric role spine 
  REST remove fabric role  spine0
  check fabric switch role  00:00:00:00:01:00:00:01  virtual
  REST configure fabric role  spine0  spine   
  sleep  5
  check fabric switch role  00:00:00:00:01:00:00:01  spine 

Remove/add Fabric role leaf in dual leaf setup
   rest remove leaf group  leaf0-a  
   REST remove fabric role  leaf0-a  
   sleep  5 
   check fabric switch role  00:00:00:00:02:00:00:01  virtual    
   REST configure fabric role  leaf0-a  leaf
   REST configure leaf group  leaf0-a  rack0   
   sleep  5
   check fabric switch role  00:00:00:00:02:00:00:01  leaf 
 
Tear down the topology
   remove fabric switch

* Keywords   

check fabric switch role  [Arguments]  ${dpid}  ${role}
  REST check fabric switch role  ${dpid}  ${role}

 

