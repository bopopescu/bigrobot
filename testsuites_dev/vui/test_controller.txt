* Setting
Documentation   This suite is my sandbox for experimentation.
Suite Setup     base suite setup
Suite Teardown  base suite teardown
Test Setup      base test setup
Test Teardown   base test teardown
Force Tags      Vui
Library         keywords/BsnCommon.py
Library         keywords/T5.py
Library         keywords/Host.py
Library         keywords/Controller.py
Library         keywords_dev/vui/MyTest.py


* Test Case
Test controller rest session cookie
    [Tags]  skipped
    bounce session cookie

Test controller reload (BigTap)
    [Tags]  skipped
    cli reboot  c1
    #cli reload  s1

Get controller handles
    [Tags]  skipped
    #cli save running config
    cli show user  c1

Test check mastership
    [Tags]  skipped
    check mastership  c1

Test session reconnect (SSH reconnect)
    [Tags]  skipped
    cli show user  c1
    bash command   c1  uptime
    cli reboot     c1
    sleep          60
    bash command   c1  df -k
    cli show user  c1
    bash command   c1  uname -a
    cli show user  c1

Test bash command
    [Tags]  skipped
    bash command   c1  uname -a

Test get ha role
    [Tags]  skipped
    ha role        c1

Verify fabric links (per Don)
    [Tags]  skipped
    ${status}=      verify fabric links    c1
    Should be true  ${status}

Test devconf reconnect
    [Tags]  skipped
    devconf reconnect

Test priminitive CLI keywords
    [Tags]  skipped
    #config        node=master  cmd=show running-config
    bash          master   uptime
    #sudo          master   cat /etc/shadow
    #cli           master   show version
    ${result}=    bash_content    c1
    log           result=${result}

Test priminitive REST keywords
    [Tags]  skipped
    get           master   /rest/v1/system/clock/local
    ${result}=    rest_content    c1
    log           result=${result}

Test scp image
    [Tags]  skipped
    bash scp image   node=c1  remote_file=bsn@jenkins:/var/lib/jenkins/jobs/bvs\\ master/lastSuccessful/archive/target/appliance/images/bvs/controller-upgrade-bvs-2.0.5-SNAPSHOT.pkg  local_path=.

Test sanitize CLI output
    [Tags]  skipped
    sanitize cli output  c1

Test node spawn
    [Tags]  skipped
    spawn a node

Test config hierarchy
    [Tags]  skipped
    config    c1  user vui
    #config    c1  exit
    cli       c1  show user

Test new things
    [Tags]  skipped
    add_ntp_server  master  time-c.nist.gov

Test config block
    [Tags]  skipped
    config block

Test controller cli ping
    [Tags]  skipped
    cli ping   c1   qa-kvm-32

Test bash file listing
    [Tags]  skipped
    #${result}=    bash ls    master  /home/admin
    ${result}=    bash ls    master  /etc
    #log           result=${result}

Test config walk
    [Tags]  skipped
    config walk

Test exit nested config
    [Tags]  skipped
    exit nested config

Test get node name
    [Tags]  skipped
    ${name}=      get node name    master
    Log           I am the ${name} of the Universe!

    ${name}=      get node name    c1
    Log           I am the ${name} of the Universe!

Test show verson
    [Tags]  skipped
    cli          master   show version

Test get node ID
    [Tags]  skipped
    ${nodeid}=  get node id  master
    Log         Node ID is ${nodeid}

Test SSH connection
    #[Tags]  skipped
    verify ssh connection   c1   admin   adminadmin
