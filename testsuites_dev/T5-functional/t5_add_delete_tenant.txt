== T5 Functional CLI Test Suite ==

* Setting
Documentation    T5 BVS APP Functional CLI Test Suite
Suite Setup      base suite setup
Suite Teardown   base suite teardown
Test Setup       base test setup
Test Teardown    base test teardown
Force Tags       T5 
Library          keywords/BsnCommon.py
Library          keywords_dev/T5.py
Library	         keywords_dev/T5Fabric.py
Library          keywords/Mininet.py
Resource	     keywords_dev/t5_singleleaf_resource.txt

* Variables
${bm0_ip}  10.0.0.1
${bm1_ip}  10.0.0.2
${bm2_ip}  10.0.0.3
${bm0_mac}  00:00:00:00:00:01
${bm1_mac}  00:00:00:00:00:02
${bm2_mac}  00:00:00:00:00:03
${bm0_intf0}  leaf0-eth5
${bm1_intf0}  leaf0-eth6
${bm2_intf0}  leaf1-eth5

* Test Case 

Configure Single Leaf Dual Rack setup
   [Tags]  functional
   sleep  5
   configure fabric switch
   sleep  5
   rest check fabric switch connectivity
   rest verify fabric link

create a tenant
   [Tags]   functional
   create a tenant  t1
   sleep  3
   rest show tenant  
 
delete tenant 
   [Tags]  functional
   create a tenant  t1
   delete a tenant  t1
   rest show tenant

create a vns
   [Tags]  functional
   create a tenant  t1
   create a vns  t1  v1 
   rest show vns 					 
   
delete a vns
   [Tags]  functional
   create a tenant  t1
   create a vns  v1
   delete a vns  t1  v1
   sleep  3
   rest show vns
   
create a multiple tenant 
   [Tags]  functional
   create a tenant  t1
   create a tenant  t2
   create a tenant  t3
   sleep  3
   rest show tenant
   
create a multiple vns same tenant
   [Tags]  functional
   create a tenant  t1
   create a vns  t1  v1
   create a vns  t1  v2
   create a vns  t1  v3
   sleep  5
   rest show vns 
   
create a portgroup
   [Tags]  functional
   create a portgroup  p1
   create a portgroup  p2
   rest show portgroup
   
Add member interface to port-group
   [Tags]  functional
   create a portgroup  p1
   add interface to portgroup  leaf0  ${bm0_intf0}  p1
   rest show portgroup  p1
   delete interface from portgroup  leaf0  ${bm0_intf0}  p1
   rest show portgroup  p1 
   
Add interface to vns
   [Tags]  functional
   create a tenant  t1
   create a vns  t1  v1
   add interface to vns  t1  v1   leaf0  ${bm0_intf0}  vlan  -1
   add interface to vns  t1  v1  leaf0  ${bm1_intf0}  vlan  10
   rest show vns  

Tear down the config
   [Tags]  smoke  sanity 
   delete interface from portgroup  leaf0  ${bm0_intf0}  p1
   delete interface from portgroup  leaf0  ${bm1_intf0}  p2
   delete interface from portgroup  leaf1  ${bm2_intf0}  p3   
   delete a portgroup  p1
   delete a portgroup  p2
   delete a portgroup  p3
   remove fabric switch

* Keywords      
T5 base test setup
   base test setup
      
T5 base test teardown
   delete a tenant  A
   delete a portgroup  p1
   delete a portgroup  p2
   delete a portgroup  p3
   base test teardown
   
create a tenant  [Arguments]  ${tenant} 
  REST create tenant  ${tenant}    

delete a tenant  [Arguments]  ${tenant} 
  	REST delete tenant  ${tenant}    

create a vns  [Arguments]  ${tenant}  ${vns}  
	REST create vns  ${tenant}  ${vns}   

delete a vns  [Arguments]  ${tenant}  ${vns} 
  	REST delete vns  ${tenant}  ${vns}   

create a portgroup  [Arguments]  ${pg}
  	REST create portgroup  ${pg}    

delete a portgroup  [Arguments]  ${pg}
  	REST delete portgroup  ${pg}    

create a endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint} 
  	REST create endpoint  ${tenant}  ${vns}  ${endpoint}  

delete a endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint}
  	REST delete endpoint  ${tenant}  ${vns}  ${endpoint}  

add interface to portgroup  [Arguments]  ${switch}  ${intf}  ${pg} 
  	REST add interface to portgroup  ${switch}  ${intf}  ${pg}  

delete interface from portgroup  [Arguments]  ${switch}  ${intf}  ${pg} 
  	REST delete interface from portgroup  ${switch}  ${intf}  ${pg}  

add portgroup to vns  [Arguments]  ${tenant}  ${vns}  ${pg}  ${vlan}
  	REST add portgroup to vns  ${tenant}  ${vns}  ${pg}  ${vlan} 

add portgroup to endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint}  ${pg}  ${vlan} 
  REST add portgroup to endpoint  ${tenant}  ${vns}  ${endpoint}  ${pg}  ${vlan} 

delete portgroup from vns  [Arguments]  ${tenant}  ${vns}  ${pg}  ${vlan} 
  REST delete portgroup from vns  ${tenant}  ${vns}  ${pg}  ${vlan}
  


 
