* Setting
Documentation   Openstack setup
#Suite Setup     base suite setup
#Suite Teardown  base suite teardown
#Test Setup      base test setup
#Test Teardown   teardown topology
#Force Tags      T5 Sanity
Library         keywords_dev/slim/Openstack.py


* Variable
${adminUserName}	admin
${adminTenant}		admin
${adminPassWord}	bsn
${authUrl}			http://10.193.0.120:5000/v2.0/
${imageName}		Ubuntu.13.10
${tenant1Name}		tenant1
${tenant1User}		user1
${tenantPassword}	bsn
${tenant1Router}	Tenant1-Router
${userEmail}		users@tenant.com
${instanceName}		T1-NW-1-Host-1
${hostName}			TJ-XZ
${subnetName}		470fbbce-26e0-464b-9e21-f888a852db04
${networkName}		Tenant1-Network-1
${flavorId}			micro
{imageLocation}		http://cloud-images.ubuntu.com/raring/current/raring-server-cloudimg-amd64-disk1.img



* Test Case
Get Ubuntu saucy Image ID 
	Set Global Variable 	${ubuntuImageId}=	openstack get image id		${adminUserName}	${adminTenant}	${adminPassWord}	${authUrl}	${imageName}
	${t1RouterId}=		openstack get router id		${tenant1User}		${tenant1Name}	${tenantPassword}	${authUrl}	${tenant1Router}
	: for				${x}  						in range  			1  				5
	\	${user}=		Set Variable  				user${x}
	\	${tenant}=		Set Variable 				tenant${x}
	\	${tenantRouter}=		Set Variable 		Tenant${x}-Router
	\	${routerId}= 	openstack get router id		${user}				${tenant}		${tenantPassword}	${authUrl}	${tenantRouter}

Get VM status
#	${ubuntuImageId}=	openstack get image id		${adminUserName}	${adminTenant}	${adminPassWord}	${authUrl}	${imageName}
	${subnetId}=		openstack get subnet id		${tenant1User}		${tenant1Name}	${tenantPassword}	${authUrl}	${subnetName}
	${netId}= 			openstack get nw id			${tenant1User}		${tenant1Name}	${tenantPassword}	${authUrl}	${networkName}
	${instanceId}=	openstack create instance	${tenant1User}		${tenant1Name}		${tenantPassword}	${authUrl}	 	${ubuntuImageId} 	${flavorId}		${hostName} 	${netId} 	t1
	sleep 			10
	${status}= 		openstack get instance status	${tenant1User}		${tenant1Name}	${tenantPassword}	${authUrl}		${instanceId}
	


	