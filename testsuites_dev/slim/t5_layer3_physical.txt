* Setting
Documentation   T5 Basic L3 two spine three leaf rack with dual-tor Test Suite
#Suite Setup     base suite setup
#Suite Teardown  base suite teardown
Test Setup      setup topology
#Test Teardown   teardown topology
#Suite Setup		setup topology
#Suite Teardown	teardown topology
Force Tags      T5 Sanity
Library         keywords/BsnCommon.py
Library         keywords/Host.py
Library         keywords/T5.py
Library         keywords/T5Fabric.py
Library         keywords_dev/prashanth/T5L3.py
Library         keywords_dev/animesh/BsnCommonShow.py
Library         keywords_dev/slim/SwitchLight.py
Resource		keywords_dev/slim/t5_layer3_physical_resources.txt
Resource		testsuites_dev/slim/t5_layer3_physical_variables.txt


* Test Cases
Intra tenant L3 untagged traffic with dynamic endpoints same rack
	L3 intra tenant same rack untagged with dynamic endpoints
#	[Tags]							skipped			smoke				sanity			

Intra tenant L3 tagged traffic with dynamic endpoints same rack
	L3 intra tenant same rack tagged with dynamic endpoints
	[Tags]							skipped			smoke				sanity		

Intra tenant L3 untagged with initial unreachable dynamic host
	L3 intra tenant untagged with initial unreachable dynamic host
	[Tags]							skipped			sanity				smoke					

Intra tenant L3 untagged with destination host moved
	L3 intra tenant untagged with host moved 
	[Tags]							skipped		sanity				




	
* Keywords
L3 intra tenant same rack untagged with dynamic endpoints
	REST add portgroup to vns					X					X1						leaf1-eth1			-1
	REST add portgroup to vns					X					X2						leaf1-eth2			-1
	BASH add ip address							h3					10.251.1.11/24			bond0	
	BASH add ip address							h4					10.251.2.11/24			bond0
	BASH add route								h3					10.251.2.0/24			10.251.1.1
	BASH add route								h4					10.251.1.0/24			10.251.2.1
	BASH ping									h3					10.251.1.1				count=5
	BASH ping									h4					10.251.2.1				count=5
	Should Be True								BASH verify arp		h3						10.251.1.1
	Should Be True								BASH verify arp		h4						10.251.2.1
	${result} = 								BASH ping			h3						10.251.2.11 	count=10
	


base suite setup
	




base suite teardown




setup topology
	add fabric switch
	sleep 											1
	REST add tenant 								X
	REST add tenant									Y
	REST add tenant									Z
	REST add vns									X						X1
	REST add vns									X						X2
	REST add vns									X						X3
	REST add vns									Y						Y1
	REST add vns									Y						Y2
	REST add vns									Y						Y3
	REST add vns									Z						Z1
	REST add vns									Z						Z2
	REST add vns									Z						Z3
	REST add vns ip  								X						X1				10.251.1.1				24	
	REST add vns ip  								X						X2				10.251.2.1				24	
	REST add vns ip  								X						X3				10.251.3.1				24	
	REST add vns ip  								Y						Y1				10.252.1.1				24	
	REST add vns ip  								Y						Y2				10.252.2.1				24	
	REST add vns ip  								Y						Y3				10.252.3.1				24	
	REST add vns ip  								Z						Z1				10.253.1.1				24	
	REST add vns ip  								Z						Z2				10.253.2.1				24	
	REST add vns ip  								Z						Z3				10.253.3.1				24	

teardown topology
	REST delete vns ip  							X						X1				10.251.1.1				24	
	REST delete vns ip  							X						X2				10.251.2.1				24	
	REST delete vns ip  							X						X3				10.251.3.1				24	
	REST delete vns ip  							Y						Y1				10.252.1.1				24	
	REST delete vns ip  							Y						Y2				10.252.2.1				24	
	REST delete vns ip  							Y						Y3				10.252.3.1				24	
	REST delete vns ip  							Z						Z1				10.253.1.1				24	
	REST delete vns ip  							Z						Z2				10.253.2.1				24	
	REST delete vns ip  							Z						Z3				10.253.3.1				24	
	REST delete vns									X						X1
	REST delete vns									X						X2
	REST delete vns									X						X3
	REST delete vns									Y						Y1
	REST delete vns									Y						Y2
	REST delete vns									Y						Y3
	REST delete vns									Z						Z1
	REST delete vns									Z						Z2
	REST delete vns									Z						Z3
	REST delete tenant								X
	REST delete tenant								Y
	REST delete tenant								Z

add fabric switch
  	rest add switch  								spine0
  	rest add dpid  									spine0  					00:99:00:00:00:01:00:01
  	rest add fabric role  							spine0  					spine
  	rest add switch  								spine1	
  	rest add dpid  									spine1  					00:99:00:00:00:01:00:02
  	rest add fabric role						  	spine1  					spine
  	rest add switch  								leaf0a
  	rest add dpid  									leaf0a  					00:99:00:00:00:02:00:01
  	rest add fabric role  							leaf0a  					leaf
  	rest add switch  								leaf0b
  	rest add dpid  									leaf0b  					00:00:00:00:00:02:00:02
  	rest add fabric role  							leaf0b  					leaf
  	rest add switch  								leaf1a
  	rest add dpid  									leaf1a  					00:00:00:00:00:02:00:03
  	rest add fabric role  							leaf1a  					leaf
 	rest add switch  								leaf1b
  	rest add dpid  									leaf1b  					00:00:00:00:00:02:00:04
  	rest add fabric role  							leaf1b  					leaf
	REST add portgroup								leaf0-eth1
	REST add portgroup								leaf0-eth2
	REST add portgroup								leaf0-eth3
	REST add portgroup								leaf0-eth4
	REST add portgroup								leaf1-eth1
	REST add portgroup								leaf1-eth2
	REST add portgroup								leaf1-eth3
	REST add portgroup								leaf1-eth4
	REST add leaf group								leaf0a						leaf0
	REST add leaf group								leaf0b						leaf0
	REST add leaf group								leaf1a						leaf1
	REST add leaf group								leaf1b						leaf1
	REST add interface to portgroup					leaf0a						ethernet1					leaf0-eth1
	REST add interface to portgroup					leaf0b						ethernet1					leaf0-eth1
	REST add interface to portgroup					leaf0a						ethernet2					leaf0-eth2
	REST add interface to portgroup					leaf0b						ethernet2					leaf0-eth2
	REST add interface to portgroup					leaf0a						ethernet3					leaf0-eth3
	REST add interface to portgroup					leaf0b						ethernet3					leaf0-eth3
	REST add interface to portgroup					leaf0a						ethernet4					leaf0-eth4
	REST add interface to portgroup					leaf0b						ethernet4					leaf0-eth4
	REST add interface to portgroup					leaf1a						ethernet1					leaf1-eth1
	REST add interface to portgroup					leaf1b						ethernet1					leaf1-eth1
	REST add interface to portgroup					leaf1a						ethernet2					leaf1-eth2
	REST add interface to portgroup					leaf1b						ethernet2					leaf1-eth2
	REST add interface to portgroup					leaf1a						ethernet3					leaf1-eth3
	REST add interface to portgroup					leaf1b						ethernet3					leaf1-eth3
	REST add interface to portgroup					leaf1a						ethernet4					leaf1-eth4
	REST add interface to portgroup					leaf1b						ethernet4					leaf1-eth4


  
delete fabric switch  
	rest delete fabric switch  					spine0 
	rest delete fabric switch  					spine1 
	rest delete fabric switch  					leaf0a 
	rest delete fabric switch  					leaf1a 
	rest delete fabric switch  					leaf0b 
	rest delete fabric switch  					leaf1b 
  
