== T5 Platform Test Suite ==

* Setting
Documentation    T5 Controller Platform Test Suite
Suite Setup      base suite setup
Suite Teardown   base suite teardown
#Test Setup       base test setup
#Test Teardown    base test teardown
Force Tags       T5Platform
Library          keywords/BsnCommon.py
Library          keywords/Mininet.py
Library	         keywords_dev/don/T5Platform.py
Library	         keywords_dev/don/T5Utilities.py
Library          Collections
Library          keywords/T5.py
Library	         keywords/T5Fabric.py
Library	         keywords/T5L3.py
Resource	 	 keywords_dev/don/t5_platform_sanity_resource.txt

* Variables
@{spineList}  00:00:00:00:00:01:00:01  00:00:00:00:00:01:00:02
@{leafList}  00:00:00:00:00:02:00:01  00:00:00:00:00:02:00:02  00:00:00:00:00:02:00:03  00:00:00:00:00:02:00:04  00:00:00:00:00:02:00:05  00:00:00:00:00:02:00:06


* Test Case 


Delete Switches
   [Tags]	clean
   delete a tenant  autoT1
   delete a tenant  autoT2
   auto delete fabric switch  ${spineList}  ${leafList}  2

   
Mininet Configure 3-Rack/Dual-Leaf/2-Spine/2-Host Setup
   [Tags]	run
   auto configure fabric switch  ${spineList}  ${leafList}  2
   sleep  5
   
   Set Test Variable  ${bm0_intf0}  leaf0a-eth8
   Set Test Variable  ${bm0_intf1}  leaf0b-eth8
   Set Test Variable  ${bm1_intf0}  leaf0a-eth9
   Set Test Variable  ${bm1_intf1}  leaf0b-eth9
   Set Test Variable  ${bm2_intf0}  leaf1a-eth8
   Set Test Variable  ${bm2_intf1}  leaf1b-eth8
   Set Test Variable  ${bm3_intf0}  leaf1a-eth9
   Set Test Variable  ${bm3_intf1}  leaf1b-eth9
   Set Test Variable  ${bm4_intf0}  leaf2a-eth8
   Set Test Variable  ${bm4_intf1}  leaf2b-eth8
   Set Test Variable  ${bm5_intf0}  leaf2a-eth9
   Set Test Variable  ${bm5_intf1}  leaf2b-eth9
   
   add a portgroup  p0
   add interface to portgroup  leaf0-a  ${bm0_intf0}  p0
   add interface to portgroup  leaf0-b  ${bm0_intf1}  p0
   add a portgroup  p1
   add interface to portgroup  leaf0-a  ${bm1_intf0}  p1
   add interface to portgroup  leaf0-b  ${bm1_intf1}  p1
   add a portgroup  p2 
   add interface to portgroup  leaf1-a  ${bm2_intf0}  p2
   add interface to portgroup  leaf1-b  ${bm2_intf1}  p2
   add a portgroup  p3 
   add interface to portgroup  leaf1-a  ${bm3_intf0}  p3
   add interface to portgroup  leaf1-b  ${bm3_intf1}  p3
   add a portgroup  p4 
   add interface to portgroup  leaf2-a  ${bm4_intf0}  p4
   add interface to portgroup  leaf2-b  ${bm4_intf1}  p4
   add a portgroup  p5 
   add interface to portgroup  leaf2-a  ${bm5_intf0}  p5
   add interface to portgroup  leaf2-b  ${bm5_intf1}  p5
   sleep  5
   

Mininet Configure 3-Rack/Dual-Leaf/2-Spine/4-Host Setup
   [Tags]	run  run2 
   auto configure fabric switch  ${spineList}  ${leafList}  2
   sleep  5
   
   Set Test Variable  ${bm0_intf0}  leaf0a-eth8
   Set Test Variable  ${bm0_intf1}  leaf0b-eth8
   Set Test Variable  ${bm1_intf0}  leaf0a-eth9
   Set Test Variable  ${bm1_intf1}  leaf0b-eth9
   Set Test Variable  ${bm2_intf0}  leaf0a-eth10
   Set Test Variable  ${bm2_intf1}  leaf0b-eth10
   Set Test Variable  ${bm3_intf0}  leaf0a-eth11
   Set Test Variable  ${bm3_intf1}  leaf0b-eth11
   Set Test Variable  ${bm4_intf0}  leaf1a-eth8
   Set Test Variable  ${bm4_intf1}  leaf1b-eth8
   Set Test Variable  ${bm5_intf0}  leaf1a-eth9
   Set Test Variable  ${bm5_intf1}  leaf1b-eth9
   Set Test Variable  ${bm6_intf0}  leaf1a-eth10
   Set Test Variable  ${bm6_intf1}  leaf1b-eth10
   Set Test Variable  ${bm7_intf0}  leaf1a-eth11
   Set Test Variable  ${bm7_intf1}  leaf1b-eth11
   Set Test Variable  ${bm8_intf0}  leaf2a-eth8
   Set Test Variable  ${bm8_intf1}  leaf2b-eth8
   Set Test Variable  ${bm9_intf0}  leaf2a-eth9
   Set Test Variable  ${bm9_intf1}  leaf2b-eth9
   Set Test Variable  ${bm10_intf0}  leaf2a-eth10
   Set Test Variable  ${bm10_intf1}  leaf2b-eth10
   Set Test Variable  ${bm11_intf0}  leaf2a-eth11
   Set Test Variable  ${bm11_intf1}  leaf2b-eth11
   
   add a portgroup  p0
   add interface to portgroup  leaf0-a  ${bm0_intf0}  p0
   add interface to portgroup  leaf0-b  ${bm0_intf1}  p0
   add a portgroup  p1
   add interface to portgroup  leaf0-a  ${bm1_intf0}  p1
   add interface to portgroup  leaf0-b  ${bm1_intf1}  p1
   add a portgroup  p2 
   add interface to portgroup  leaf0-a  ${bm2_intf0}  p2
   add interface to portgroup  leaf0-b  ${bm2_intf1}  p2
   add a portgroup  p3 
   add interface to portgroup  leaf0-a  ${bm3_intf0}  p3
   add interface to portgroup  leaf0-b  ${bm3_intf1}  p3
   add a portgroup  p4
   add interface to portgroup  leaf1-a  ${bm4_intf0}  p4
   add interface to portgroup  leaf1-b  ${bm4_intf1}  p4
   add a portgroup  p5
   add interface to portgroup  leaf1-a  ${bm5_intf0}  p5
   add interface to portgroup  leaf1-b  ${bm5_intf1}  p5
   add a portgroup  p6
   add interface to portgroup  leaf1-a  ${bm6_intf0}  p6
   add interface to portgroup  leaf1-b  ${bm6_intf1}  p6
   add a portgroup  p7
   add interface to portgroup  leaf1-a  ${bm7_intf0}  p7
   add interface to portgroup  leaf1-b  ${bm7_intf1}  p7
   add a portgroup  p8
   add interface to portgroup  leaf2-a  ${bm8_intf0}  p8
   add interface to portgroup  leaf2-b  ${bm8_intf1}  p8
   add a portgroup  p9
   add interface to portgroup  leaf2-a  ${bm9_intf0}  p9
   add interface to portgroup  leaf2-b  ${bm9_intf1}  p9
   add a portgroup  p10
   add interface to portgroup  leaf2-a  ${bm10_intf0}  p10
   add interface to portgroup  leaf2-b  ${bm10_intf1}  p10
   add a portgroup  p11
   add interface to portgroup  leaf2-a  ${bm11_intf0}  p11
   add interface to portgroup  leaf2-b  ${bm11_intf1}  p11
   sleep  5
   

Configure 1 Tenant with Multiple VNSs & Gateway Interfaces
   [Tags]	run
   Set Test Variable  ${subMask}  24
   Set Test Variable  ${vns1ip}  10.10.10.100
   Set Test Variable  ${bm0ip}  10.10.10.10
   Set Test Variable  ${bm2ip}  10.10.10.12
   Set Test Variable  ${bm4ip}  10.10.10.14
   
   Set Test Variable  ${vns2ip}  20.20.20.100
   Set Test Variable  ${bm1ip}	20.20.20.11
   Set Test Variable  ${bm3ip}	20.20.20.13
   Set Test Variable  ${bm5ip}	20.20.20.15

   rest add tenant  autoT1
   rest add vns  autoT1  v1
   rest add portgroup to vns  autoT1  v1  p0  -1
   rest add portgroup to vns  autoT1  v1  p2  -1
   rest add portgroup to vns  autoT1  v1  p4  100
   rest add vns ip  autoT1  v1  ${vns1ip}  ${subMask}
   rest add vns  autoT1  v2
   rest add portgroup to vns  autoT1  v2  p1  -1
   rest add portgroup to vns  autoT1  v2  p3  -1
   rest add portgroup to vns  autoT1  v2  p5  200
   rest add vns ip  autoT1  v2  ${vns2ip}  ${subMask}

   mininet host ipcfg  bm0  bm0-bond0  ${bm0ip}  ${subMask}
   mininet host gw  bm0  ${vns1ip}  bm0-bond0
   mininet host ipcfg  bm2  bm2-bond0  ${bm2ip}  ${subMask}
   mininet host gw  bm2  ${vns1ip}  bm2-bond0
   mininet link tag  bm4  bm4-bond0  100  ${bm4ip}
   mininet host tagged gw  bm4  ${vns1ip}  1
   
   mininet host ipcfg  bm1  bm1-bond0  ${bm1ip}  ${subMask}
   mininet host gw  bm1  ${vns2ip}  bm1-bond0
   mininet host ipcfg  bm3  bm3-bond0  ${bm3ip}  ${subMask}
   mininet host gw  bm3  ${vns2ip}  bm3-bond0
   mininet link tag  bm5  bm5-bond0  200  ${bm5ip}
   mininet host tagged gw  bm5  ${vns2ip}  1


   sleep  30
   ${returnVal}=  platform ping  bm0  ${bm2ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm2  ${bm4ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm4ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm1  ${bm5ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm1  ${bm3ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm3  ${bm5ip}
   Should Be True  ${returnVal}
   
   ${returnVal}=  platform ping  bm0  ${bm1ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm3ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm5ip}
   Should Be True  ${returnVal}


Configure 2 Tenants with Multiple VNSs & Gateway Interfaces
   [Tags]	run  run2
   Set Test Variable  ${subMask}  24
   Set Test Variable  ${vns1ip}  10.10.10.100
   Set Test Variable  ${bm0ip}  10.10.10.10
   Set Test Variable  ${bm2ip}  10.10.10.12
   Set Test Variable  ${bm4ip}  10.10.10.14
   
   Set Test Variable  ${vns2ip}  20.20.20.100
   Set Test Variable  ${bm1ip}	20.20.20.11
   Set Test Variable  ${bm3ip}	20.20.20.13
   Set Test Variable  ${bm5ip}	20.20.20.15
   
   Set Test Variable  ${vns3ip}  30.30.30.100
   Set Test Variable  ${bm6ip}  30.30.30.6
   Set Test Variable  ${bm8ip}  30.30.30.8
   Set Test Variable  ${bm10ip}  30.30.30.10
   
   Set Test Variable  ${vns4ip}  40.40.40.100
   Set Test Variable  ${bm7ip}  40.40.40.7
   Set Test Variable  ${bm9ip}  40.40.40.9
   Set Test Variable  ${bm11ip}  40.40.40.11

   rest add tenant  autoT1
   rest add vns  autoT1  v1
   rest add portgroup to vns  autoT1  v1  p0  -1
   rest add portgroup to vns  autoT1  v1  p2  -1
   rest add portgroup to vns  autoT1  v1  p4  100
   rest add vns ip  autoT1  v1  ${vns1ip}  ${subMask}
   rest add vns  autoT1  v2
   rest add portgroup to vns  autoT1  v2  p1  -1
   rest add portgroup to vns  autoT1  v2  p3  -1
   rest add portgroup to vns  autoT1  v2  p5  200
   rest add vns ip  autoT1  v2  ${vns2ip}  ${subMask}

   rest add tenant  autoT2
   rest add vns  autoT2  v3
   rest add portgroup to vns  autoT2  v3  p6  -1
   rest add portgroup to vns  autoT2  v3  p8  -1
   rest add portgroup to vns  autoT2  v3  p10  100
   rest add vns ip  autoT2  v3  ${vns3ip}  ${subMask}
   rest add vns  autoT2  v4
   rest add portgroup to vns  autoT2  v4  p7  -1
   rest add portgroup to vns  autoT2  v4  p9  -1
   rest add portgroup to vns  autoT2  v4  p11  200
   rest add vns ip  autoT2  v4  ${vns4ip}  ${subMask}


   mininet host ipcfg  bm0  bm0-bond0  ${bm0ip}  ${subMask}
   mininet host gw  bm0  ${vns1ip}  bm0-bond0
   mininet host ipcfg  bm2  bm2-bond0  ${bm2ip}  ${subMask}
   mininet host gw  bm2  ${vns1ip}  bm2-bond0
   mininet link tag  bm4  bm4-bond0  100  ${bm4ip}
   mininet host tagged gw  bm4  ${vns1ip}  1
   
   mininet host ipcfg  bm1  bm1-bond0  ${bm1ip}  ${subMask}
   mininet host gw  bm1  ${vns2ip}  bm1-bond0
   mininet host ipcfg  bm3  bm3-bond0  ${bm3ip}  ${subMask}
   mininet host gw  bm3  ${vns2ip}  bm3-bond0
   mininet link tag  bm5  bm5-bond0  200  ${bm5ip}
   mininet host tagged gw  bm5  ${vns2ip}  1
   
   mininet host ipcfg  bm6  bm6-bond0  ${bm6ip}  ${subMask}
   mininet host gw  bm6  ${vns3ip}  bm6-bond0
   mininet host ipcfg  bm8  bm8-bond0  ${bm8ip}  ${subMask}
   mininet host gw  bm8  ${vns3ip}  bm8-bond0
   mininet link tag  bm10  bm10-bond0  100  ${bm10ip}
   mininet host tagged gw  bm10  ${vns3ip}  1
   
   mininet host ipcfg  bm7  bm7-bond0  ${bm7ip}  ${subMask}
   mininet host gw  bm7  ${vns4ip}  bm7-bond0
   mininet host ipcfg  bm9  bm9-bond0  ${bm9ip}  ${subMask}
   mininet host gw  bm9  ${vns4ip}  bm9-bond0
   mininet link tag  bm11  bm11-bond0  200  ${bm11ip}
   mininet host tagged gw  bm11  ${vns4ip}  1


   sleep  30
   
   ###	Verify ping between vns1
   ${returnVal}=  platform ping  bm0  ${bm2ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm4ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm2  ${bm4ip}
   Should Be True  ${returnVal}

   ###	Verify ping between vns2
   ${returnVal}=  platform ping  bm1  ${bm3ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm1  ${bm5ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm3  ${bm5ip}
   Should Be True  ${returnVal}
   
   ###	Verify ping between vns3
   ${returnVal}=  platform ping  bm6  ${bm8ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm6  ${bm10ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm8  ${bm10ip}
   Should Be True  ${returnVal}
   
   ###	Verify ping between vns4
   ${returnVal}=  platform ping  bm7  ${bm9ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm7  ${bm11ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm9  ${bm11ip}
   Should Be True  ${returnVal}
   
   ###	Verify ping between vns1 & vns2
   ${returnVal}=  platform ping  bm0  ${bm1ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm3ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm5ip}
   Should Be True  ${returnVal}
   
   ###	Verify ping between vns3 & vns4
   ${returnVal}=  platform ping  bm6  ${bm7ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm6  ${bm9ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm6  ${bm11ip}
   Should Be True  ${returnVal}

Verify Dual VNS Host Connectivity
   [Tags]  sanity  skipped
   add a portgroup  h4p0
   add interface to portgroup  leaf0-a  ${bm0-eth0}  h4p0
   add interface to portgroup  leaf0-b  ${bm0-eth1}  h4p0
   add a portgroup  h4p1
   add interface to portgroup  leaf0-a  ${bm1-eth0}  h4p1
   add interface to portgroup  leaf0-b  ${bm1-eth1}  h4p1
   add a portgroup  h4p2
   add interface to portgroup  leaf0-a  ${bm2-eth0}  h4p2
   add interface to portgroup  leaf0-b  ${bm2-eth1}  h4p2
   add a portgroup  h4p3
   add interface to portgroup  leaf0-a  ${bm3-eth0}  h4p3
   add interface to portgroup  leaf0-b  ${bm3-eth1}  h4p3
   add a portgroup  h4p4
   add interface to portgroup  leaf1-a  ${bm4-eth0}  h4p4
   add interface to portgroup  leaf1-b  ${bm4-eth1}  h4p4
   add a portgroup  h4p5
   add interface to portgroup  leaf1-a  ${bm5-eth0}  h4p5
   add interface to portgroup  leaf1-b  ${bm5-eth1}  h4p5
   add a portgroup  h4p6
   add interface to portgroup  leaf1-a  ${bm6-eth0}  h4p6
   add interface to portgroup  leaf1-b  ${bm6-eth1}  h4p6
   add a portgroup  h4p7
   add interface to portgroup  leaf1-a  ${bm7-eth0}  h4p7
   add interface to portgroup  leaf1-b  ${bm7-eth1}  h4p7
   add a portgroup  h4p8
   add interface to portgroup  leaf2-a  ${bm8-eth0}  h4p8
   add interface to portgroup  leaf2-b  ${bm8-eth1}  h4p8
   add a portgroup  h4p9
   add interface to portgroup  leaf2-a  ${bm9-eth0}  h4p9
   add interface to portgroup  leaf2-b  ${bm9-eth1}  h4p9
   add a portgroup  h4p10
   add interface to portgroup  leaf2-a  ${bm10-eth0}  h4p10
   add interface to portgroup  leaf2-b  ${bm10-eth1}  h4p10
   add a portgroup  h4p11
   add interface to portgroup  leaf2-a  ${bm11-eth0}  h4p11
   add interface to portgroup  leaf2-b  ${bm11-eth1}  h4p11
   sleep  5
   
   add a tenant  bm0tobm5
   add a vns  bm0tobm5  bm0tobm5
   add portgroup to vns  bm0tobm5  bm0tobm5  h4p0  -1
   add portgroup to vns  bm0tobm5  bm0tobm5  h4p1  -1
   add portgroup to vns  bm0tobm5  bm0tobm5  h4p2  -1
   add portgroup to vns  bm0tobm5  bm0tobm5  h4p3  -1 
   add portgroup to vns  bm0tobm5  bm0tobm5  h4p4  -1
   add portgroup to vns  bm0tobm5  bm0tobm5  h4p5  -1
   sleep  5
   
   ${returnVal}=  platform ping  bm0  ${bm1_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm2_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm3_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm4_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm0  ${bm5_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm1  ${bm2_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm1  ${bm3_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm1  ${bm4_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm1  ${bm5_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm2  ${bm3_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm2  ${bm4_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm2  ${bm5_ip}
   Should Be True  ${returnVal}
   ${returnVal}=  platform ping  bm4  ${bm5_ip}
   Should Be True  ${returnVal}
   
   add a tenant  bm5tobm11
   add a vns  bm5tobm11  bm5tobm11
   add portgroup to vns  bm5tobm11  bm5tobm11  h4p6  -1
   add portgroup to vns  bm5tobm11  bm5tobm11  h4p7  -1
   add portgroup to vns  bm5tobm11  bm5tobm11  h4p8  -1
   add portgroup to vns  bm5tobm11  bm5tobm11  h4p9  -1 
   add portgroup to vns  bm5tobm11  bm5tobm11  h4p10  -1
   add portgroup to vns  bm5tobm11  bm5tobm11  h4p11  -1
   sleep  10
   
   platform ping  bm6  ${bm7_ip}
   platform ping  bm6  ${bm8_ip}
   platform ping  bm6  ${bm9_ip}
   platform ping  bm6  ${bm10_ip}
   platform ping  bm6  ${bm11_ip}
   platform ping  bm7  ${bm8_ip}
   platform ping  bm7  ${bm9_ip}
   platform ping  bm7  ${bm10_ip}
   platform ping  bm7  ${bm11_ip}
   platform ping  bm8  ${bm9_ip}
   platform ping  bm8  ${bm10_ip}
   platform ping  bm8  ${bm11_ip}
   platform ping  bm9  ${bm10_ip}
   platform ping  bm9  ${bm11_ip}
   platform ping  bm10  ${bm11_ip}
   sleep   60

Clear Config
   [Tags]  sanity  skipped
   delete a tenant  bm0tobm5
   delete a tenant  bm5tobm11
   delete interface from portgroup  leaf0-a  ${bm0-eth0}  h4p0
   delete interface from portgroup  leaf0-b  ${bm0-eth1}  h4p0
   delete a portgroup  h4p0
   delete interface from portgroup  leaf0-a  ${bm1-eth0}  h4p1
   delete interface from portgroup  leaf0-b  ${bm1-eth1}  h4p1
   delete a portgroup  h4p1
   delete interface from portgroup  leaf0-a  ${bm2-eth0}  h4p2
   delete interface from portgroup  leaf0-b  ${bm2-eth1}  h4p2
   delete a portgroup  h4p2
   delete interface from portgroup  leaf0-a  ${bm3-eth0}  h4p3
   delete interface from portgroup  leaf0-b  ${bm3-eth1}  h4p3
   delete a portgroup  h4p3
   delete interface from portgroup  leaf1-a  ${bm4-eth0}  h4p4
   delete interface from portgroup  leaf1-b  ${bm4-eth1}  h4p4
   delete a portgroup  h4p4
   delete interface from portgroup  leaf1-a  ${bm5-eth0}  h4p5
   delete interface from portgroup  leaf1-b  ${bm5-eth1}  h4p5
   delete a portgroup  h4p5
   delete interface from portgroup  leaf1-a  ${bm6-eth0}  h4p6
   delete interface from portgroup  leaf1-b  ${bm6-eth1}  h4p6
   delete a portgroup  h4p6
   delete interface from portgroup  leaf1-a  ${bm7-eth0}  h4p7
   delete interface from portgroup  leaf1-b  ${bm7-eth1}  h4p7
   delete a portgroup  h4p7
   delete interface from portgroup  leaf2-a  ${bm8-eth0}  h4p8
   delete interface from portgroup  leaf2-b  ${bm8-eth1}  h4p8
   delete a portgroup  h4p8
   delete interface from portgroup  leaf2-a  ${bm9-eth0}  h4p9
   delete interface from portgroup  leaf2-b  ${bm9-eth1}  h4p9
   delete a portgroup  h4p9
   delete interface from portgroup  leaf2-a  ${bm10-eth0}  h4p10
   delete interface from portgroup  leaf2-b  ${bm10-eth1}  h4p10
   delete a portgroup  h4p10
   delete interface from portgroup  leaf2-a  ${bm11-eth0}  h4p11
   delete interface from portgroup  leaf2-b  ${bm11-eth1}  h4p11
   delete a portgroup  h4p11
   
   

Verify Cluster VIP
	[Tags]  sanity  skipped
	cli verify cluster vip  10.192.106.20/32

Add User
	[Tags]  User_Administration  skipped
	${status}=  rest add user  3 
	Should be true  ${status}
	
Delete User
	[Tags]  User_Administration   skipped
	${status}=  rest delete user  3
	Should be true  ${status}




* Keywords      
T5 base test setup
   base test setup
      
T5 base test teardown
   base test teardown
  

   
   
   
add a tenant  [Arguments]  ${tenant} 
  REST add tenant  ${tenant}    

delete a tenant  [Arguments]  ${tenant} 
  	REST delete tenant  ${tenant}    

add a vns  [Arguments]  ${tenant}  ${vns}  
	REST add vns  ${tenant}  ${vns}   

delete a vns  [Arguments]  ${tenant}  ${vns} 
  	REST delete vns  ${tenant}  ${vns}   

add a portgroup  [Arguments]  ${pg}
  	REST add portgroup  ${pg}    

delete a portgroup  [Arguments]  ${pg}
  	REST delete portgroup  ${pg}    

add a endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint} 
  	REST add endpoint  ${tenant}  ${vns}  ${endpoint}  

delete a endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint}
  	REST delete endpoint  ${tenant}  ${vns}  ${endpoint}  

add interface to portgroup  [Arguments]  ${switch}  ${intf}  ${pg} 
  	REST add interface to portgroup  ${switch}  ${intf}  ${pg}  

delete interface from portgroup  [Arguments]  ${switch}  ${intf}  ${pg} 
  	REST delete interface from portgroup  ${switch}  ${intf}  ${pg}  

add portgroup to vns  [Arguments]  ${tenant}  ${vns}  ${pg}  ${vlan}
  	REST add portgroup to vns  ${tenant}  ${vns}  ${pg}  ${vlan} 

add portgroup to endpoint  [Arguments]  ${tenant}  ${vns}  ${endpoint}  ${pg}  ${vlan} 
  REST add portgroup to endpoint  ${tenant}  ${vns}  ${endpoint}  ${pg}  ${vlan} 

delete portgroup from vns  [Arguments]  ${tenant}  ${vns}  ${pg}  ${vlan} 
  REST delete portgroup from vns  ${tenant}  ${vns}  ${pg}  ${vlan}
  
   