== T5 Fabric Link Test ==

*Settings
Documentation    Fabric Link Formation Dual Rack Dual Spine Test
Suite Setup      base suite setup
Suite Teardown   base suite teardown
Test Setup       base test setup
Test Teardown    base test teardown
Force Tags       T5 Fabric
Library          keywords/BsnCommon.py
Library          keywords_dev/T5.py
Library          keywords_dev/T5Fabric.py
Library			 keywords/Mininet.py
REsource         keywords_dev/t5_dualleaf_three_rack_resource.txt



*Test Case

Setup Dual Rack Dual Leaf Topology
    configure fabric switch
    sleep  5
    rest check fabric switch connectivity
   
Verify Fabric link formation  
	REST verify fabric link 	

Remove one of the spine Fabric Role and verify the link  
	REST remove fabric role  spine     
    sleep  5 
	REST verify fabric link   

Add the Fabric Role back for spine 
	REST configure fabric role   spine0   spine      
    sleep  5 
	REST verify fabric link
	
Remove one of the leaf in Dual Leaf setup and verify the link
    rest remove fabric role  leaf
    rest remove leaf group  leaf0-a
    sleep  5
    rest verify fabric link
    
Add leaf back into the setup in Dual Rack Dual leaf topology
    rest configure fabric role  leaf0-a  leaf
    rest configure leaf group  leaf0-a  rack0
    sleep  5
    rest verify fabric link
    
Reboot spine switch spine1 and verify the fabric link
	s1
Reboot leaf switch and verify fabric link
	
Tear down config and Topology
    remove fabric switch
 

* Keywords  



    


