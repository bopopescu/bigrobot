* Settings
Documentation    T5 Test Suite
Suite Setup      base suite setup
Suite Teardown   base suite teardown
Test Setup       base test setup
Test Teardown    base test teardown
Force Tags       T5 
Library          keywords/BsnCommon.py
Library          keywords/Controller.py
Library			 keywords/Mininet.py
Library		     keywords/Host.py
Library		     keywords/Ixia.py
Library		     keywords_dev/mingtao/T5_longevity.py
Library	         keywords/T5.py
Library	         keywords/T5Platform.py
Library	         keywords/Controller.py
Resource	     testsuites_dev/mingtao/t5_platform_infra_resource.txt 

* Variable
${short}  1
${medium}  10
${long}   30
${verylong}     120 
${gw}           10.192.64.1
${dns}          10.192.3.1
${domain}        bigswitch.com 
${mask}	         18
${VIP1}         10.192.105.150
${VIP2}         10.192.105.151
${namec1}       MY-T5-C30
${namec2}       MY-T5-C10
${ipcno}        10.192.105.255
${colo}         210

* Test Case
Set variable
	${ipc1}=   get node ip   c1
	Set Suite Variable    ${ipc1}
	${ipc2}=   get node ip   c2
	Set Suite Variable    ${ipc2}
# 	${time}= 	Get Time     year,month,day
# 	${file}=  Set Variable  config${time[0]}${time[1]}${time[2]}
#	Set Suite Variable    ${file} 	
#	${ip}=   ip_to_list    ${ipc1}
#	log   ip address is ${ip}
#	Run Keyword if   ${ip[1]}==${colo}	 set colo variable  		
#  	log   new variables are: ${gw} ${mask} ${VIP1} ${namec1} ${ipcno}

	[Tags] 	sanity  

T1 Setup the testbed
	log  step 1 setup snmp and verify
#	setup snmp	
#	verify snmp config	
	
	log  step 2 config syslog server
	
	log  step 3 config Tenants and vns 
	 
	rest_add_tenant_vns_scale	 5    5
    rest add interface to vns  T1   v1   Leaf0a  ethernet1  10
    rest add interface to vns  T1   v1   Leaf0a  ethernet2  11 
	sleep  5       
    	
	log  config member interface
	
	log  config end point	
  	REST add endpoint  T1  v1  E1
  	REST add endpoint  T1  v1  E2  	
    
    REST add ip endpoint  T1  v1  E1   100.100.100.1
    REST add mac endpoint  T1  v1  E1   00:01:01:01:01:01
    REST add ip endpoint  T1  v1  E2    100.100.100.2
    REST add mac endpoint  T1  v1  E2  00:01:01:01:01:02

  	REST add portgroup  P1  
 	REST add interface to portgroup  Leaf0a  ethernet11  P1 
 	REST add interface to portgroup  Leaf0b  ethernet11  P1  
  	REST add portgroup to endpoint  T1  V1  E1  P1  100 

  
     
	[Tags] 	sanity    

 
 